{"version":3,"file":"pixi-createjs-player.js","sources":["../src/common/global.ts","../node_modules/@tawaship/pixi-createjs-core/dist/pixi-createjs-core.esm.js","../src/pixi/Player.ts","../src/common/core.ts"],"sourcesContent":["/**\r\n * @ignore\r\n */\r\ndeclare const window: any;\r\n\r\nfunction playSound(id: string, loop: boolean = false) {\r\n\treturn window.createjs.Sound.play(id, {\r\n\t\tinterrupt: window.createjs.Sound.INTERRUPT_EARLY,\r\n\t\tloop: loop\r\n\t});\r\n}\r\n\r\nObject.defineProperties(window, {\r\n\tplaySound: {\r\n\t\tvalue: playSound\r\n\t}\r\n});\r\n\r\nexport {};","/*!\n * @tawaship/pixi-createjs-core.js - v1.0.4\n * \n * @require pixi.js v5.3.2\n * @author tawaship (makazu.mori@gmail.com)\n * @license MIT\n */\n\n/**\r\n * @ignore\r\n */\r\nconst createjsOrigin = {\r\n\tDisplayObject: createjs.DisplayObject,\r\n\tMovieClip: createjs.MovieClip,\r\n\tSprite: createjs.Sprite,\r\n\tContainer: createjs.Container,\r\n\tText: createjs.Text,\r\n\tShape: createjs.Shape,\r\n\tGraphics: createjs.Graphics,\r\n\tButtonHelper: createjs.ButtonHelper\r\n};\r\n\r\n/**\r\n * @ignore\r\n */\r\nfunction overrideCreatejs(self, pixi) {\r\n\tself._originParams = {\r\n\t\tx: 0,\r\n\t\ty: 0,\r\n\t\tscaleX: 0,\r\n\t\tscaleY: 0,\r\n\t\tregx: 0,\r\n\t\tregy: 0,\r\n\t\tskewX: 0,\r\n\t\tskewY: 0,\r\n\t\trotation: 0,\r\n\t\tvisible: true,\r\n\t\talpha: 1,\r\n\t\t_off: false,\r\n\t\tmask: null,\r\n\t\tfilters: null\r\n\t};\r\n\t\r\n\tpixi._createjs = self;\r\n\t\r\n\tself._pixiData = {\r\n\t\tinstance: pixi,\r\n\t\tregObj: pixi.anchor || pixi.pivot,\r\n\t\tevents: {}\r\n\t};\r\n}\r\n\r\n/**\r\n * @ignore\r\n */\r\nlet _isDown = false;\r\n\r\n/**\r\n * @ignore\r\n */\r\nconst EventMap = {\r\n\tmousedown: {\r\n\t\ttypes: ['pointerdown'],\r\n\t\tfactory: function(self, cb) {\r\n\t\t\treturn function(e) {\r\n\t\t\t\te.currentTarget = e.currentTarget._createjs;\r\n\t\t\t\t\r\n\t\t\t\te.target = e.target._createjs;\r\n\t\t\t\tconst ev = e.data;\r\n\t\t\t\te.rawX = ev.global.x;\r\n\t\t\t\te.rawY = ev.global.y;\r\n\t\t\t\t\r\n\t\t\t\t_isDown = true;\r\n\t\t\t\t\r\n\t\t\t\tcb(e);\r\n\t\t\t};\r\n\t\t}\r\n\t},\r\n\t/*\r\n\tmouseup: {\r\n\t\ttypes: ['pointerup'],\r\n\t\tfactory: function(self, cb) {\r\n\t\t\treturn function(e) {\r\n\t\t\t\te.currentTarget = e.currentTarget._createjs;\r\n\t\t\t\t\r\n\t\t\t\te.target = e.target._createjs;\r\n\t\t\t\tconst ev = e.data;\r\n\t\t\t\te.rawX = ev.global.x;\r\n\t\t\t\te.rawY = ev.global.y;\r\n\t\t\t\t\r\n\t\t\t\t_isDown = true;\r\n\t\t\t\t\r\n\t\t\t\tcb(e);\r\n\t\t\t};\r\n\t\t}\r\n\t},\r\n\t*/\r\n\trollover: {\r\n\t\ttypes: ['pointerover'],\r\n\t\tfactory: function(self, cb) {\r\n\t\t\treturn function(e) {\r\n\t\t\t\te.currentTarget = e.currentTarget._createjs;\r\n\t\t\t\t\r\n\t\t\t\te.target = e.target._createjs;\r\n\t\t\t\tconst ev = e.data;\r\n\t\t\t\te.rawX = ev.global.x;\r\n\t\t\t\te.rawY = ev.global.y;\r\n\t\t\t\t\r\n\t\t\t\t_isDown = true;\r\n\t\t\t\t\r\n\t\t\t\tcb(e);\r\n\t\t\t};\r\n\t\t}\r\n\t},\r\n\trollout: {\r\n\t\ttypes: ['pointerout'],\r\n\t\tfactory: function(self, cb) {\r\n\t\t\treturn function(e) {\r\n\t\t\t\te.currentTarget = e.currentTarget._createjs;\r\n\t\t\t\t\r\n\t\t\t\te.target = e.currentTarget._createjs;\r\n\t\t\t\tconst ev = e.data;\r\n\t\t\t\te.rawX = ev.global.x;\r\n\t\t\t\te.rawY = ev.global.y;\r\n\t\t\t\t\r\n\t\t\t\t_isDown = true;\r\n\t\t\t\t\r\n\t\t\t\tcb(e);\r\n\t\t\t};\r\n\t\t}\r\n\t},\r\n\tpressmove:{\r\n\t\ttypes: ['pointermove'],\r\n\t\tfactory:  function(self, cb) {\r\n\t\t\treturn function(e) {\r\n\t\t\t\tif (!_isDown) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\te.currentTarget = self;\r\n\t\t\t\t\r\n\t\t\t\te.target = e.target && e.target._createjs;\r\n\t\t\t\tconst ev = e.data;\r\n\t\t\t\te.rawX = ev.global.x;\r\n\t\t\t\te.rawY = ev.global.y;\r\n\t\t\t\t\r\n\t\t\t\tcb(e);\r\n\t\t\t};\r\n\t\t}\r\n\t},\r\n\tpressup: {\r\n\t\ttypes: ['pointerup', 'pointeupoutside'],\r\n\t\tfactory: function(self, cb) {\r\n\t\t\treturn function(e) {\r\n\t\t\t\tif (!_isDown) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\te.currentTarget = self;\r\n\t\t\t\t\r\n\t\t\t\t_isDown = false;\r\n\t\t\t\t\r\n\t\t\t\te.target = e.target && e.target._createjs;\r\n\t\t\t\tconst ev = e.data;\r\n\t\t\t\te.rawX = ev.global.x;\r\n\t\t\t\te.rawY = ev.global.y;\r\n\t\t\t\t\r\n\t\t\t\tcb(e);\r\n\t\t\t};\r\n\t\t}\r\n\t}\r\n};\r\n\r\n/**\r\n * @ignore\r\n */\r\nconst DEG_TO_RAD = Math.PI / 180;\r\n\r\n/**\r\n * @ignore\r\n */\r\nconst COLOR_RED = 16 * 16 * 16 * 16;\r\n\r\n/**\r\n * @ignore\r\n */\r\nconst COLOR_GREEN = 16 * 16;\r\n\r\n/**\r\n * @ignore\r\n */\r\nconst appendixDescriptor = {\r\n\tx: {\r\n\t\tget: function() {\r\n\t\t\treturn this._originParams.x;\r\n\t\t},\r\n\t\t\r\n\t\tset: function(value) {\r\n\t\t\tthis._pixiData.instance.x = value;\r\n\t\t\treturn this._originParams.x = value;\r\n\t\t}\r\n\t},\r\n\ty: {\r\n\t\tget: function() {\r\n\t\t\treturn this._originParams.y;\r\n\t\t},\r\n\t\t\r\n\t\tset: function(value) {\r\n\t\t\tthis._pixiData.instance.y = value;\r\n\t\t\treturn this._originParams.y = value;\r\n\t\t}\r\n\t},\r\n\tscaleX: {\r\n\t\tget: function() {\r\n\t\t\treturn this._originParams.scaleX;\r\n\t\t},\r\n\t\t\r\n\t\tset: function(value) {\r\n\t\t\tthis._pixiData.instance.scale.x = value;\r\n\t\t\treturn this._originParams.scaleX = value;\r\n\t\t}\r\n\t},\r\n\tscaleY: {\r\n\t\tget: function() {\r\n\t\t\treturn this._originParams.scaleY;\r\n\t\t},\r\n\t\t\r\n\t\tset: function(value) {\r\n\t\t\tthis._pixiData.instance.scale.y = value;\r\n\t\t\treturn this._originParams.scaleY = value;\r\n\t\t}\r\n\t},\r\n\tskewX: {\r\n\t\tget: function() {\r\n\t\t\treturn this._originParams.skewX;\r\n\t\t},\r\n\t\t\r\n\t\tset: function(value) {\r\n\t\t\tthis._pixiData.instance.skew.x = -value * DEG_TO_RAD;\r\n\t\t\treturn this._originParams.skewX = value;\r\n\t\t}\r\n\t},\r\n\tskewY: {\r\n\t\tget: function() {\r\n\t\t\treturn this._originParams.skewY;\r\n\t\t},\r\n\t\t\r\n\t\tset: function(value) {\r\n\t\t\tthis._pixiData.instance.skew.y = value * DEG_TO_RAD;\r\n\t\t\treturn this._originParams.skewY = value;\r\n\t\t}\r\n\t\r\n\t},\r\n\tregX: {\r\n\t\tget: function() {\r\n\t\t\treturn this._originParams.regX;\r\n\t\t},\r\n\t\t\r\n\t\tset: function(value) {\r\n\t\t\tthis._pixiData.regObj.x = value;\r\n\t\t\treturn this._originParams.regX = value;\r\n\t\t}\r\n\t},\r\n\tregY: {\r\n\t\tget: function() {\r\n\t\t\treturn this._originParams.regY;\r\n\t\t},\r\n\t\t\r\n\t\tset: function(value) {\r\n\t\t\tthis._pixiData.regObj.y = value;\r\n\t\t\treturn this._originParams.regY = value;\r\n\t\t}\r\n\t},\r\n\trotation: {\r\n\t\tget: function() {\r\n\t\t\treturn this._originParams.rotation;\r\n\t\t},\r\n\t\t\r\n\t\tset: function(value) {\r\n\t\t\tthis._pixiData.instance.rotation = value * DEG_TO_RAD;\r\n\t\t\treturn this._originParams.rotation = value;\r\n\t\t}\r\n\t},\r\n\tvisible: {\r\n\t\tget: function() {\r\n\t\t\treturn this._originParams.visible;\r\n\t\t},\r\n\t\t\r\n\t\tset: function(value) {\r\n\t\t\tvalue = !!value;\r\n\t\t\tthis._pixiData.instance.visible = value;\r\n\t\t\treturn this._originParams.visible = value;\r\n\t\t}\r\n\t},\r\n\talpha: {\r\n\t\tget: function() {\r\n\t\t\treturn this._originParams.alpha;\r\n\t\t},\r\n\t\t\r\n\t\tset: function(value) {\r\n\t\t\tthis._pixiData.instance.alpha = value;\r\n\t\t\treturn this._originParams.alpha = value;\r\n\t\t}\r\n\t},\r\n\t_off: {\r\n\t\tget: function() {\r\n\t\t\treturn this._originParams._off;\r\n\t\t},\r\n\t\t\r\n\t\tset: function(value) {\r\n\t\t\tthis._pixiData.instance.renderable = !value;\r\n\t\t\treturn this._originParams._off = value;\r\n\t\t}\r\n\t},\r\n\t/*\r\n\tdispatchEvent: {\r\n\t\tvalue: function(eventObj, bubbles, cancelable) {\r\n\t\t\tvar type = eventObj typeof 'string' ? eventObj : eventObj.type;\r\n\t\t\t\r\n\t\t\tthis._pixiData.instance.emit(type, eventObj);\r\n\t\t\t\r\n\t\t\treturn createjsOrigin.DisplayObject.prototype.dispatchEvent.apply(this, arguments);\r\n\t\t}\r\n\t},\r\n\t*/\r\n\taddEventListener: {\r\n\t\tvalue: function(type, cb) {\r\n\t\t\tif (!(cb instanceof Function)) {\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (type in EventMap) {\r\n\t\t\t\tconst ev = EventMap[type];\r\n\t\t\t\t\r\n\t\t\t\tconst func = ev.factory(this, cb);\r\n\t\t\t\t\r\n\t\t\t\tconst types = ev.types;\r\n\t\t\t\t\r\n\t\t\t\tfor (let i = 0; i < types.length; i++) {\r\n\t\t\t\t\tconst t = types[i];\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis._pixiData.events[t] = this._pixiData.events[t] || [];\r\n\t\t\t\t\tthis._pixiData.events[t].push({ func: func, origin: cb });\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis._pixiData.instance.on(t, func);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tthis._pixiData.instance.interactive = true;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn createjsOrigin.DisplayObject.prototype.addEventListener.apply(this, arguments);\r\n\t\t}\r\n\t},\r\n\tremoveEventListener: {\r\n\t\tvalue: function(type, cb) {\r\n\t\t\tif (type in EventMap) {\r\n\t\t\t\tconst ev = EventMap[type];\r\n\t\t\t\t\r\n\t\t\t\tconst types = ev.types;\r\n\t\t\t\t\r\n\t\t\t\tfor (let i = 0; i < types.length; i++) {\r\n\t\t\t\t\tconst t = types[i];\r\n\t\t\t\t\t\r\n\t\t\t\t\tconst list = this._pixiData.events[t];\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (list) {\r\n\t\t\t\t\t\tfor (var j = list.length - 1; j >= 0; j--) {\r\n\t\t\t\t\t\t\tif (list[j].origin === cb) {\r\n\t\t\t\t\t\t\t\tthis._pixiData.instance.off(t, list[j].func);\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tlist.splice(j, 1);\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif (list.length === 0) {\r\n\t\t\t\t\t\t\tdelete(this._pixiData.events[t]);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tconst res = createjsOrigin.DisplayObject.prototype.removeEventListener.apply(this, arguments);\r\n\t\t\t\r\n\t\t\tconst listeners = this._listeners;\r\n\t\t\tif (!listeners) {\r\n\t\t\t\treturn res;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tfor (let i in EventMap) {\r\n\t\t\t\tif (!listeners[i]) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif (listeners[i].length > 0) {\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn res;\r\n\t\t}\r\n\t},\r\n\tremoveAllEventListeners: {\r\n\t\tvalue: function(type) {\r\n\t\t\tthis._pixiData.instance.removeAllListeners(type);\r\n\t\t\tthis._pixi.instance.interactive = false;\r\n\t\t\tthis._pixiData.events = {};\r\n\t\t\t\r\n\t\t\treturn createjsOrigin.DisplayObject.prototype.removeAllEventListeners.apply(this, arguments);\r\n\t\t}\r\n\t},\r\n\tmask: {\r\n\t\tget: function() {\r\n\t\t\treturn this._originParams.mask;\r\n\t\t},\r\n\t\t\r\n\t\tset: function(value) {\r\n\t\t\tif (value) {\r\n\t\t\t\tvalue._pixiData.masked.push(this._pixiData.instance);\r\n\t\t\t\tthis._pixiData.instance.mask = value._pixiData.instance;\r\n\t\t\t\t\r\n\t\t\t\tthis._pixiData.instance.once('added', function() {\r\n\t\t\t\t\tthis.parent.addChild(value._pixiData.instance);\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tthis._pixiData.instance.mask = null;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn this._originParams.mask = value;\r\n\t\t}\r\n\t},\r\n\tfilters: {\r\n\t\tget: function() {\r\n\t\t\treturn this._originParams.filters;\r\n\t\t},\r\n\t\t\r\n\t\tset: function(value) {\r\n\t\t\tif (this._pixiData.subInstance) {\r\n\t\t\t\tif (value) {\r\n\t\t\t\t\tconst list = [];\r\n\t\t\t\t\t\r\n\t\t\t\t\tfor (var i = 0; i < value.length; i++) {\r\n\t\t\t\t\t\tconst f = value[i];\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif (f instanceof createjs.ColorMatrixFilter) {\r\n\t\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tconst m = new PIXI.filters.ColorMatrixFilter();\r\n\t\t\t\t\t\tm.matrix = [\r\n\t\t\t\t\t\t\tf.redMultiplier, 0, 0, 0, f.redOffset / 255,\r\n\t\t\t\t\t\t\t0, f.greenMultiplier, 0, 0, f.greenOffset / 255,\r\n\t\t\t\t\t\t\t0, 0, f.blueMultiplier, 0, f.blueOffset / 255,\r\n\t\t\t\t\t\t\t0, 0, 0, f.alphaMultiplier, f.alphaOffset / 255,\r\n\t\t\t\t\t\t\t0, 0, 0, 0, 1\r\n\t\t\t\t\t\t];\r\n\t\t\t\t\t\tlist.push(m);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tvar o = this._pixiData.instance;\r\n\t\t\t\t\tvar c = o.children;\r\n\t\t\t\t\tvar n = new PIXI.Container();\r\n\t\t\t\t\tvar nc = this._pixiData.subInstance = n.addChild(new PIXI.Container());\r\n\t\t\t\t\t\r\n\t\t\t\t\twhile (c.length) {\r\n\t\t\t\t\t\tnc.addChild(c[0]);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\to.addChild(n);\r\n\t\t\t\t\to._filterContainer = nc;\r\n\t\t\t\t\t\r\n\t\t\t\t\tnc.updateTransform();\r\n\t\t\t\t\tnc.calculateBounds();\r\n\t\t\t\t\t\r\n\t\t\t\t\tconst b = nc.getLocalBounds();\r\n\t\t\t\t\tconst x = b.x;\r\n\t\t\t\t\tconst y = b.y;\r\n\t\t\t\t\t\r\n\t\t\t\t\tfor (var i = 0; i < nc.children.length; i++) {\r\n\t\t\t\t\t\tnc.children[i].x -= x;\r\n\t\t\t\t\t\tnc.children[i].y -= y;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif (nc.children[i]._filterContainer) {\r\n\t\t\t\t\t\t\tnc.children[i]._filterContainer.cacheAsBitmap = false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tn.x = x;\r\n\t\t\t\t\tn.y = y;\r\n\t\t\t\t\t\r\n\t\t\t\t\tnc.filters = list;\r\n\t\t\t\t\tnc.cacheAsBitmap = true;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconst o = this._pixiData.instance;\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (o._filterContainer) {\r\n\t\t\t\t\t\tconst nc = this._pixiData.subInstance;\r\n\t\t\t\t\t\tconst n = nc.parent;\r\n\t\t\t\t\t\tconst c = nc.children;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\to.removeChildren();\r\n\t\t\t\t\t\to._filterContainer = null;\r\n\t\t\t\t\t\twhile (c.length) {\r\n\t\t\t\t\t\t\tconst v = o.addChild(c[0]);\r\n\t\t\t\t\t\t\tv.x += n.x;\r\n\t\t\t\t\t\t\tv.y += n.y;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tnc.filters = null;\r\n\t\t\t\t\t\tnc.cacheAsBitmap = false;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tthis._pixiData.subInstance = o;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn this._originParams.filters = value;\r\n\t\t}\r\n\t},\r\n\tgetPixi: {\r\n\t\tvalue: function() {\r\n\t\t\treturn this._pixiData.instance;\r\n\t\t}\r\n\t}\r\n};\r\n\r\n/**\r\n * @ignore\r\n */\r\nfunction makeClass(parent, unuseAppendix = false) {\r\n\tclass CjsWrap extends parent {\r\n\t\t_overrideCreatejs(pixiClass) {\r\n\t\t\toverrideCreatejs(this, new pixiClass());\r\n\t\t}\r\n\t}\r\n\t\r\n\tif (!unuseAppendix) {\r\n\t\tObject.defineProperties(CjsWrap.prototype, appendixDescriptor);\r\n\t}\r\n\t\r\n\treturn CjsWrap;\r\n}\r\n\r\ncreatejs.MovieClip = class MovieClip extends makeClass(createjsOrigin.MovieClip) {\r\n\tconstructor() {\r\n\t\tthis._overrideCreatejs(PIXI.Container);\r\n\t\t\r\n\t\tsuper(...arguments);\r\n\t}\r\n\t\r\n\tinitialize() {\r\n\t\tthis._overrideCreatejs(PIXI.Container);\r\n\t\tthis._pixiData.subInstance = this._pixiData.instance;//.addChild(new PIXI.Container());\r\n\t\t\r\n\t\treturn super.initialize(...arguments);\r\n\t}\r\n\t\r\n\taddChild(child) {\r\n\t\tthis._pixiData.subInstance.addChild(child._pixiData.instance);\r\n\t\t\r\n\t\treturn super.addChild(child);\r\n\t}\r\n\t\r\n\taddChildAt(child, index) {\r\n\t\tthis._pixiData.subInstance.addChildAt(child._pixiData.instance, index);\r\n\t\t\r\n\t\treturn super.addChildAt(child, index);\r\n\t}\r\n\t\r\n\tremoveChild(child) {\r\n\t\tthis._pixiData.subInstance.removeChild(child._pixiData.instance);\r\n\t\t\r\n\t\treturn super.removeChild(child);\r\n\t}\r\n\t\r\n\tremoveChildAt(index) {\r\n\t\tthis._pixiData.subInstance.removeChildAt(index);\r\n\t\t\r\n\t\treturn super.removeChildAt(index);\r\n\t}\r\n\t\r\n\tremoveAllChldren() {\r\n\t\tthis._pixiData.subInstance.removeChildren();\r\n\t\t\r\n\t\treturn super.removeAllChldren();\r\n\t}\r\n};\r\n\r\ncreatejs.Sprite = class Sprite extends makeClass(createjsOrigin.Sprite) {\r\n\tconstructor() {\r\n\t\tthis._overrideCreatejs(PIXI.Sprite);\r\n\t\t\r\n\t\tsuper(...arguments);\r\n\t}\r\n\t\r\n\tinitialize() {\r\n\t\tthis._overrideCreatejs(PIXI.Sprite);\r\n\t\t\r\n\t\treturn super.initialize(...arguments);\r\n\t}\r\n\t\r\n\tgotoAndStop() {\r\n\t\tsuper.gotoAndStop(...arguments);\r\n\t\t\r\n\t\tconst frame = this.spriteSheet.getFrame(this.currentFrame);\r\n\t\tconst baseTexture = PIXI.BaseTexture.from(frame.image);\r\n\t\tconst texture = new PIXI.Texture(baseTexture, frame.rect);\r\n\t\t\r\n\t\tthis._pixiData.instance.texture = texture;\r\n\t}\r\n};\r\n\r\ncreatejs.Shape = class Sprite extends makeClass(createjsOrigin.Shape) {\r\n\tconstructor() {\r\n\t\tthis._overrideCreatejs(PIXI.Container);\r\n\t\tthis._pixiData.masked = [];\r\n\t\t\r\n\t\tsuper(...arguments);\r\n\t}\r\n\t\r\n\tget graphics() {\r\n\t\treturn this._graphics;\r\n\t}\r\n\t\r\n\tset graphics(value) {\r\n\t\tif (this._pixiData.masked.length) {\r\n\t\t\tthis._pixiData.instance.removeChildren();\r\n\t\t\t\r\n\t\t\tif (value) {\r\n\t\t\t\tfor (let i = 0; i < this._pixiData.masked.length; i++) {\r\n\t\t\t\t\tthis._pixiData.masked[i].mask = this._pixiData.instance;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tfor (let i = 0; i < this._pixiData.masked.length; i++) {\r\n\t\t\t\t\tthis._pixiData.masked[i].mask = null;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tif (value) {\r\n\t\t\tthis._pixiData.instance.addChild(value._pixiData.instance);\r\n\t\t}\r\n\t\t\r\n\t\treturn this._graphics = value;\r\n\t}\r\n};\r\n\r\ncreatejs.Graphics = class Sprite extends makeClass(createjsOrigin.Graphics) {\r\n\tconstructor() {\r\n\t\tthis._overrideCreatejs(PIXI.Graphics);\r\n\t\t\r\n\t\tthis._pixiData.instance.beginFill(0xFFEEEE, 1);\r\n\t\t\r\n\t\tthis._pixiData.strokeFill = 0;\r\n\t\tthis._pixiData.strokeAlpha = 1;\r\n\t\t\r\n\t\tsuper(...arguments);\r\n\t}\r\n\t\r\n\tmoveTo(x, y) {\r\n\t\tif (this._pixiData.instance.clone().endFill().containsPoint({x: x, y: y})) {\r\n\t\t\tthis._pixiData.instance.beginHole();\r\n\t\t} else {\r\n\t\t\tthis._pixiData.instance.endHole();\r\n\t\t}\r\n\t\t\r\n\t\tthis._pixiData.instance.moveTo(x, y);\r\n\t\t\r\n\t\treturn super.moveTo(x, y);\r\n\t}\r\n\t\r\n\tlineTo(x, y) {\r\n\t\tthis._pixiData.instance.lineTo(x, y);\r\n\t\t\r\n\t\treturn super.lineTo(x, y);\r\n\t}\r\n\t\r\n\tarcTon(x1, y1, x2, y2, radius) {\r\n\t\tthis._pixiData.instance.arcTo(x1, y1, x2, y2, radius);\r\n\t\t\r\n\t\treturn super.arcTo(x1, y1, x2, y2, radius);\r\n\t}\r\n\t\r\n\tarc(x, y, radius, startAngle, endAngle, anticlockwise) {\r\n\t\tthis._pixiData.instance.arc(x, y, radius, startAngle, endAngle, anticlockwise);\r\n\t\t\r\n\t\treturn super.arc(x, y, radius, startAngle, endAngle, anticlockwise);\r\n\t}\r\n\t\r\n\tquadraticCurveTo(cpx, cpy, x, y) {\r\n\t\tthis._pixiData.instance.quadraticCurveTo(cpx, cpy, x, y);\r\n\t\t\r\n\t\treturn super.quadraticCurveTo(cpx, cpy, x, y);\r\n\t}\r\n\t\r\n\tbezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y) {\r\n\t\tthis._pixiData.instance.bezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y);\r\n\t\t\r\n\t\treturn super.bezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y);\r\n\t}\r\n\t\r\n\trect(x, y, w, h) {\r\n\t\tthis._pixiData.instance.drawRect(x, y, w, h);\r\n\t\t\r\n\t\treturn super.rect(x, y, w, h);\r\n\t}\r\n\t\r\n\tclosePath() {\r\n\t\tthis._pixiData.instance.closePath();\r\n\t\t\r\n\t\tconst points = this._pixiData.instance.currentPath.points;\r\n\t\t\r\n\t\treturn super.closePath();\r\n\t}\r\n\t\r\n\tclear() {\r\n\t\tthis._pixiData.instance.clear();\r\n\t\t\r\n\t\treturn super.clear();\r\n\t}\r\n\t\r\n\t_parseColor(color) {\r\n\t\tconst res = {\r\n\t\t\tcolor: 0,\r\n\t\t\talpha: 1\r\n\t\t};\r\n\t\t\r\n\t\tif (!color) {\r\n\t\t\tres.alpha = 0;\r\n\t\t\treturn res;\r\n\t\t}\r\n\t\t\r\n\t\tif (color.charAt(0) === '#') {\r\n\t\t\tres.color = parseInt(color.slice(1), 16);\r\n\t\t\treturn res;\r\n\t\t}\r\n\t\t\r\n\t\tcolor = color.replace(/rgba|\\(|\\)|\\s/g, '').split(',');\r\n\t\t\r\n\t\tres.color = Number(color[0]) * COLOR_RED + Number(color[1]) * COLOR_GREEN + Number(color[2]);\r\n\t\tres.alpha = Number(color[3]);\r\n\t\t\r\n\t\treturn res;\r\n\t}\r\n\t\r\n\tbeginFill(color) {\r\n\t\tconst c = this._parseColor(color);\r\n\t\tthis._pixiData.instance.beginFill(c.color, c.alpha);\r\n\t\t\r\n\t\treturn super.beginFill(color);\r\n\t}\r\n\t\t\r\n\tendFill() {\r\n\t\tthis._pixiData.instance.endFill();\r\n\t\t\r\n\t\treturn super.endFill();\r\n\t}\r\n\t\r\n\tsetStrokeStyle(thickness, caps, joints, miterLimit, ignoreScale) {\r\n\t\tthis._pixiData.instance.lineStyle({\r\n\t\t\twidth: thickness,\r\n\t\t\tcolor: this._pixiData.strokeFill,\r\n\t\t\talpha: this._pixiData.strokeAlpha,\r\n\t\t\tcap: (caps in LineCap) ? LineCap[caps] : caps,\r\n\t\t\tjoin: (joints in LineJoin) ? LineJoin[joints] : joints,\r\n\t\t\tmiterLimit: miterLimit\r\n\t\t});\r\n\t\t\r\n\t\treturn super.setStrokeStyle(thickness, caps, joints, miterLimit, ignoreScale);\r\n\t}\r\n\t\r\n\tbeginStroke(color) {\r\n\t\tconst c = this._parseColor(color);\r\n\t\tthis._pixiData.strokeFill = c.color;\r\n\t\tthis._pixiData.strokeAlpha = c.alpha;\r\n\t\t\r\n\t\treturn super.beginStroke(color);\r\n\t}\r\n\t\r\n\tdrawRoundRect(x, y, w, h, radius) {\r\n\t\tthis._pixiData.instance.drawRoundedRect(x, y, w, h, radius);\r\n\t\t\r\n\t\treturn super.drawRoundRect(x, y, w, h, radius);\r\n\t}\r\n\t\r\n\tdrawCircle(x, y, radius) {\r\n\t\tthis._pixiData.instance.drawCircle(x, y, radius);\r\n\t\t\r\n\t\treturn super.drawCircle(x, y, radius);\r\n\t}\r\n\t\r\n\tdrawEllipse(x, y, w, h) {\r\n\t\tthis._pixiData.instance.drawEllipse(x, y, w, h);\r\n\t\t\r\n\t\treturn super.drawEllipse(x, y, w, h);\r\n\t}\r\n\t\r\n\tdrawPolyStar(x, y, radius, sides, pointSize, angle) {\r\n\t\tthis._pixiData.instance.drawRegularPolygon(x, y, radius, sides, angle * DEG_TO_RAD);\r\n\t\t\r\n\t\treturn super.drawPolyStar(x, y, radius, sides, pointSize, angle);\r\n\t}\r\n};\r\n\r\n/**\r\n * @ignore\r\n */\r\nconst LineCap = {\r\n\t0: PIXI.LINE_JOIN.BUTT,\r\n\t1: PIXI.LINE_JOIN.ROUND,\r\n\t2: PIXI.LINE_JOIN.SQUARE\r\n};\r\n\r\n/**\r\n * @ignore\r\n */\r\nconst LineJoin = {\r\n\t0: PIXI.LINE_JOIN.MITER,\r\n\t1: PIXI.LINE_JOIN.ROUND,\r\n\t2: PIXI.LINE_JOIN.BEVEL\r\n};\r\n\r\nObject.defineProperties(createjs.Graphics.prototype, {\r\n\tcurveTo: {\r\n\t\tvalue: createjs.Graphics.prototype.quadraticCurveTo\r\n\t},\r\n\t\r\n\tdrawRect: {\r\n\t\tvalue: createjs.Graphics.prototype.rect\r\n\t},\r\n\t\r\n\tmt: {\r\n\t\tvalue: createjs.Graphics.prototype.moveTo\r\n\t},\r\n\t\r\n\tlt: {\r\n\t\tvalue: createjs.Graphics.prototype.lineTo\r\n\t},\r\n\t\r\n\tat: {\r\n\t\tvalue: createjs.Graphics.prototype.arcTo\r\n\t},\r\n\t\r\n\tbt: {\r\n\t\tvalue: createjs.Graphics.prototype.bezierCurveTo\r\n\t},\r\n\t\r\n\tqt: {\r\n\t\tvalue: createjs.Graphics.prototype.quadraticCurveTo\r\n\t},\r\n\t\r\n\ta: {\r\n\t\tvalue: createjs.Graphics.prototype.arc\r\n\t},\r\n\t\r\n\tr: {\r\n\t\tvalue: createjs.Graphics.prototype.rect\r\n\t},\r\n\t\r\n\tcp: {\r\n\t\tvalue: createjs.Graphics.prototype.closePath\r\n\t},\r\n\t\r\n\tc: {\r\n\t\tvalue: createjs.Graphics.prototype.clear\r\n\t},\r\n\t\r\n\tf: {\r\n\t\tvalue: createjs.Graphics.prototype.beginFill\r\n\t},\r\n\t\r\n\tef: {\r\n\t\tvalue: createjs.Graphics.prototype.endFill\r\n\t},\r\n\t\r\n\tss: {\r\n\t\tvalue: createjs.Graphics.prototype.setStrokeStyle\r\n\t},\r\n\t\r\n\ts: {\r\n\t\tvalue: createjs.Graphics.prototype.beginStroke\r\n\t},\r\n\t\r\n\tdr: {\r\n\t\tvalue: createjs.Graphics.prototype.drawRect\r\n\t},\r\n\t\r\n\trr: {\r\n\t\tvalue: createjs.Graphics.prototype.drawRoundRect\r\n\t},\r\n\t\r\n\tdc: {\r\n\t\tvalue: createjs.Graphics.prototype.drawCircle\r\n\t},\r\n\t\r\n\tde: {\r\n\t\tvalue: createjs.Graphics.prototype.drawEllipse\r\n\t},\r\n\t\r\n\tdp: {\r\n\t\tvalue: createjs.Graphics.prototype.drawPolyStar\r\n\t}\r\n});\r\n\r\ncreatejs.Text = class Sprite extends makeClass(createjsOrigin.Text) {\r\n\tconstructor(text, font, color) {\r\n\t\tthis._overrideCreatejs(PIXI.Container);\r\n\t\t\r\n\t\tthis._originParams = Object.assign(this._originParams, {\r\n\t\t\ttext: text,\r\n\t\t\tfont: font,\r\n\t\t\tcolor: color,\r\n\t\t\ttextAlign: 'left',\r\n\t\t\tlineHeight: 0,\r\n\t\t\tlineWidth: 0\r\n\t\t});\r\n\t\t\r\n\t\tconst _font = this._parseFont(font);\r\n\t\t\r\n\t\tthis._pixiData.instance.text = this._pixiData.instance.addChild(new PIXI.Text(text, {\r\n\t\t\tfontSize: _font.fontSize,\r\n\t\t\tfontFamily: _font.fontFamily,\r\n\t\t\tfill: this._parseColor(color),\r\n\t\t\twordWrap: true\r\n\t\t}));\r\n\t\t\r\n\t\tsuper(...arguments);\r\n\t}\r\n\t\r\n\tget text() {\r\n\t\treturn this._originParams.text;\r\n\t}\r\n\t\r\n\tset text(text) {\r\n\t\tthis._pixiData.instance.text.text = text;\r\n\t\tthis._align(this.textAlign);\r\n\t\t\r\n\t\treturn this._originParams.text = text;\r\n\t}\r\n\t\r\n\t_parseFont(font) {\r\n\t\tconst p = font.split(' ');\r\n\t\t\r\n\t\treturn {\r\n\t\t\tfontSize: Number(p.shift().replace('px', '')),\r\n\t\t\tfontFamily: p.join(' ').replace(/'/g, '') //'\r\n\t\t};\r\n\t}\r\n\t\r\n\tget font() {\r\n\t\treturn this._originParams.font;\r\n\t}\r\n\t\r\n\tset font(font) {\r\n\t\tconst _font = this._parseFont(font);\r\n\t\tthis._pixiData.instance.text.style.fontSize = _font.fontSize;\r\n\t\tthis._pixiData.instance.text.style.fontFamily = _font.fontFamily;\r\n\t\t\r\n\t\treturn this._originParams.font = font;\r\n\t}\r\n\t\r\n\t_parseColor(color) {\r\n\t\treturn parseInt(color.slice(1), 16);\r\n\t}\r\n\t\r\n\tget color() {\r\n\t\treturn this._originParams.color;\r\n\t}\r\n\tset color(color) {\r\n\t\tthis._pixiData.instance.text.style.fill = this._parseColor(color);\r\n\t\t\r\n\t\treturn this._originParams.color = color;\r\n\t}\r\n\t\r\n\t_align(align) {\r\n\t\tif (align === 'left') {\r\n\t\t\tthis._pixiData.instance.text.x = 0;\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\tif (align === 'center') {\r\n\t\t\tthis._pixiData.instance.text.x = -this.lineWidth / 2;\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\tif (align === 'right') {\r\n\t\t\tthis._pixiData.instance.text.x =  -this.lineWidth;\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\r\n\t\r\n\tget textAlign() {\r\n\t\treturn this._originParams.textAlign;\r\n\t}\r\n\t\r\n\tset textAlign(align) {\r\n\t\tthis._pixiData.instance.text.style.align = align;\r\n\t\tthis._align(align);\r\n\t\t\r\n\t\treturn this._originParams.textAlign = align;\r\n\t}\r\n\t\r\n\tget lineHeight() {\r\n\t\treturn this._originParams.lineHeight;\r\n\t}\r\n\t\r\n\tset lineHeight(height) {\r\n\t\tthis._pixiData.instance.text.lineHeight = height;\r\n\t\t\r\n\t\treturn this._originParams.lineHeight = height;\r\n\t}\r\n\t\r\n\tget lineWidth() {\r\n\t\treturn this._originParams.lineWidth;\r\n\t}\r\n\t\r\n\tset lineWidth(width) {\r\n\t\tthis._pixiData.instance.text.lineWidthWrap = width;\r\n\t\t\r\n\t\treturn this._originParams.lineWidth = width;\r\n\t}\r\n};\r\n\r\ncreatejs.ButtonHelper = class Sprite extends makeClass(createjsOrigin.ButtonHelper, true) {\r\n\tconstructor() {\r\n\t\tthis._overrideCreatejs(PIXI.Container);\r\n\t\t\r\n\t\tconst createjs = arguments[0];\r\n\t\tconst pixi = createjs._pixiData.instance;\r\n\t\t\r\n\t\tconst baseFrame = arguments[1];\r\n\t\tconst overFrame = arguments[2];\r\n\t\tconst downFrame = arguments[3];\r\n\t\tconst hit = arguments[5];\r\n\t\tconst hitFrame = arguments[6];\r\n\t\t\r\n\t\thit.gotoAndStop(hitFrame);\r\n\t\tconst hitPixi = pixi.addChild(hit._pixiData.instance);\r\n\t\thitPixi.alpha = 0.00001;\r\n\t\t\r\n\t\tlet isOver = false;\r\n\t\tlet isDown = false;\r\n\t\t\r\n\t\thitPixi.on('pointerover', function() {\r\n\t\t\tisOver = true;\r\n\t\t\tif (isDown) {\r\n\t\t\t\tcreatejs.gotoAndStop(downFrame);\r\n\t\t\t} else {\r\n\t\t\t\tcreatejs.gotoAndStop(overFrame);\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\thitPixi.on('pointerout', function() {\r\n\t\t\tisOver = false;\r\n\t\t\t\r\n\t\t\tif (isDown) {\r\n\t\t\t\tcreatejs.gotoAndStop(overFrame);\r\n\t\t\t} else {\r\n\t\t\t\tcreatejs.gotoAndStop(baseFrame);\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\thitPixi.on('pointerdown', function() {\r\n\t\t\tisDown = true;\r\n\t\t\tcreatejs.gotoAndStop(downFrame);\r\n\t\t});\r\n\t\t\r\n\t\thitPixi.on('pointerup', function() {\r\n\t\t\tisDown = false;\r\n\t\t\tif (isOver) {\r\n\t\t\t\tcreatejs.gotoAndStop(overFrame);\r\n\t\t\t} else {\r\n\t\t\t\tcreatejs.gotoAndStop(baseFrame);\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\thitPixi.on('pointerupoutside', function() {\r\n\t\t\tisDown = false;\r\n\t\t\tif (isOver) {\r\n\t\t\t\tcreatejs.gotoAndStop(overFrame);\r\n\t\t\t} else {\r\n\t\t\t\tcreatejs.gotoAndStop(baseFrame);\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\thitPixi.interactive = true;\r\n\t\thitPixi.cursor = 'pointer';\r\n\t\t\r\n\t\tsuper(...arguments);\r\n\t}\r\n};\n\n/**\r\n * Prepare createjs content published with Adobe Animate.\r\n * @param id \"lib.properties.id\" in Animate content.\r\n * @param basepath Directory path of Animate content.\r\n */\r\nfunction prepareCreatejsAsync(id, basepath) {\r\n    const comp = window.AdobeAn.getComposition(id);\r\n    if (!comp) {\r\n        throw new Error('no composition');\r\n    }\r\n    const lib = comp.getLibrary();\r\n    return new Promise((resolve, reject) => {\r\n        if (lib.properties.manifest.length === 0) {\r\n            resolve({});\r\n        }\r\n        const loader = new window.createjs.LoadQueue(false);\r\n        loader.installPlugin(window.createjs.Sound);\r\n        loader.addEventListener('fileload', function (evt) {\r\n            handleFileLoad(evt, comp);\r\n        });\r\n        loader.addEventListener('complete', function (evt) {\r\n            resolve(evt);\r\n        });\r\n        if (basepath) {\r\n            basepath = (basepath + '/').replace(/([^\\:])\\/\\//, \"$1/\");\r\n            const m = lib.properties.manifest;\r\n            for (let i = 0; i < m.length; i++) {\r\n                m[i].src = basepath + m[i].src;\r\n            }\r\n        }\r\n        loader.loadManifest(lib.properties.manifest);\r\n    })\r\n        .then((evt) => {\r\n        const ss = comp.getSpriteSheet();\r\n        const queue = evt.target;\r\n        const ssMetadata = lib.ssMetadata;\r\n        for (let i = 0; i < ssMetadata.length; i++) {\r\n            ss[ssMetadata[i].name] = new window.createjs.SpriteSheet({\r\n                images: [\r\n                    queue.getResult(ssMetadata[i].name)\r\n                ],\r\n                frames: ssMetadata[i].frames\r\n            });\r\n        }\r\n        return lib;\r\n    });\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction handleFileLoad(evt, comp) {\r\n    const images = comp.getImages();\r\n    if (evt && (evt.item.type == 'image')) {\r\n        images[evt.item.id] = evt.result;\r\n    }\r\n}\n\nexport { prepareCreatejsAsync };\n//# sourceMappingURL=pixi-createjs-core.esm.js.map\n","import * as Core from '../common/core';\r\nimport * as _PIXI from 'pixi.js';\r\n\r\n/**\r\n * @ignore\r\n */\r\ndeclare const window: any;\r\n\r\nnamespace PIXI {\r\n\texport namespace createjs {\r\n\t\texport type TCreatejsPlayerOption = {\r\n\t\t\tuseSynchedTimeline?: boolean\r\n\t\t};\r\n\t\t\r\n\t\t/**\r\n\t\t * @see https://tawaship.github.io/Pixim.js/classes/pixim.application.html\r\n\t\t */\r\n\t\texport class Player {\r\n\t\t\tprivate _app: _PIXI.Application;\r\n\t\t\tprivate _id: string;\r\n\t\t\tprivate _rootClass: any;\r\n\t\t\tprivate _basepath: string;\r\n\t\t\tprivate _stage: any;\r\n\t\t\t\r\n\t\t\t/**\r\n\t\t\t * @param id \"lib.properties.id\" in Animate content.\r\n\t\t\t * @param rootName Root class name of Animate content.\r\n\t\t\t * @param basepath Directory path of Animate content.\r\n\t\t\t * @param pixiOptions Options of PIXI.Application.\r\n\t\t\t */\r\n\t\t\tconstructor(id: string, rootName: string, basepath: string, pixiOptions: Object = {}) {\r\n\t\t\t\tconst comp = window.AdobeAn.getComposition(id);\r\n\t\t\t\tif (!comp) {\r\n\t\t\t\t\tthrow new Error('no composition');\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tconst lib = comp.getLibrary();\r\n\t\t\t\tconst root = lib[rootName];\r\n\t\t\t\tif (!root) {\r\n\t\t\t\t\tthrow new Error('no root class');\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tconst prop = lib.properties;\r\n\t\t\t\t\r\n\t\t\t\tthis._app = new _PIXI.Application(Object.assign(pixiOptions, {\r\n\t\t\t\t\twidth: prop.width,\r\n\t\t\t\t\theight: prop.height,\r\n\t\t\t\t\tbackgroundColor: parseInt(prop.color.slice(1), 16)\r\n\t\t\t\t}));\r\n\t\t\t\t\r\n\t\t\t\tdocument.body.appendChild(this._app.view);\r\n\t\t\t\tthis._app.stop();\r\n\t\t\t\t\r\n\t\t\t\tthis._id = id;\r\n\t\t\t\tthis._rootClass = root;\r\n\t\t\t\tthis._basepath = basepath;\r\n\t\t\t\t\r\n\t\t\t\twindow.createjs.Ticker.framerate = prop.fps;\r\n\t\t\t\t\r\n\t\t\t\tthis._handleTick = this._handleTick.bind(this);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t/**\r\n\t\t\t * Prepare createjs content published with Adobe Animate.\r\n\t\t\t */\r\n\t\t\tprepareAsync(options: TCreatejsPlayerOption = {}) {\r\n\t\t\t\treturn Core.prepareCreatejsAsync(this._id, this._basepath)\r\n\t\t\t\t\t.then((lib: Core.TCreatejsLibrary) => {\r\n\t\t\t\t\t\tconst exportRoot = new this._rootClass();\r\n\t\t\t\t\t\t\n\t\t\t\t\t\tthis._stage = new lib.Stage();\r\n\t\t\t\t\t\tCore.initStage(this._stage, options);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tObject.defineProperties(window, {\r\n\t\t\t\t\t\t\texportRoot: {\r\n\t\t\t\t\t\t\t\tvalue: exportRoot\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tstage: {\r\n\t\t\t\t\t\t\t\tvalue: this._stage\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\twindow.AdobeAn.compositionLoaded(lib.properties.id);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tthis._app.render();\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tthis._stage.addChild(exportRoot);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tthis._app.stage.addChild(exportRoot.getPixi());\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tplay() {\r\n\t\t\t\twindow.createjs.Ticker.addEventListener('tick', this._handleTick);\r\n\t\t\t\t\r\n\t\t\t\treturn this;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tstop() {\r\n\t\t\t\twindow.createjs.Ticker.removeEventListener('tick', this._handleTick);\r\n\t\t\t\t\r\n\t\t\t\treturn this;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tprivate _handleTick() {\r\n\t\t\t\tthis._stage._tickFunction();\r\n\t\t\t\tthis.app.render();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tget app(): _PIXI.Application {\r\n\t\t\t\treturn this._app;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\n/**\r\n * @ignore\r\n */\r\nexport import TCreatejsPlayerOption = PIXI.createjs.TCreatejsPlayerOption;\r\n\r\n/**\r\n * @ignore\r\n */\r\nexport import Player = PIXI.createjs.Player;","import * as PIXI from 'pixi.js';\r\nimport * as Core from '@tawaship/pixi-createjs-core';\r\n\r\n/**\r\n * @ignore\r\n */\r\nexport import prepareCreatejsAsync = Core.prepareCreatejsAsync;\r\n\r\n/**\r\n * @ignore\r\n */\r\nexport import TCreatejsLibrary = Core.TCreatejsLibrary;\r\n\r\n/**\r\n * @ignore\r\n */\r\ndeclare const window: any;\r\n\r\n/**\r\n * @ignore\r\n */\r\nexport function initStage(stage: any, options: any = {}) {\r\n\tif (options.useSynchedTimeline) {\r\n\t\tfunction containerDrawFunction() {\r\n\t\t\tconst list = this.children.slice();\r\n\t\t\tfor (let i = 0,l = list.length; i < l; i++) {\r\n\t\t\t\tconst child = list[i];\r\n\t\t\t\tif (!child.isVisible()) { continue; }\r\n\t\t\t\tchild.draw();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn true;\r\n\t\t};\r\n\t\t\r\n\t\tfunction imageDrawFunction() {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\t\r\n\t\tObject.defineProperties(window.createjs.MovieClip.prototype, {\r\n\t\t\tdraw: {\r\n\t\t\t\tvalue: function() {\r\n\t\t\t\t\tthis._updateState();\r\n\t\t\t\t\treturn this._containerDraw();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t_containerDraw: {\r\n\t\t\t\tvalue: containerDrawFunction\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\tconst imageDescriptors = {\r\n\t\t\tdraw: {\r\n\t\t\t\tvalue: imageDrawFunction\r\n\t\t\t}\r\n\t\t};\r\n\t\t\r\n\t\tObject.defineProperties(window.createjs.Sprite.prototype, imageDescriptors);\r\n\t\tObject.defineProperties(window.createjs.Graphics.prototype, imageDescriptors);\r\n\t\tObject.defineProperties(window.createjs.Shape.prototype, imageDescriptors);\r\n\t\tObject.defineProperties(window.createjs.Text.prototype, imageDescriptors);\r\n\t\tObject.defineProperties(window.createjs.Bitmap.prototype, imageDescriptors);\r\n\t\t\r\n\t\tstage.update = function(props) {\r\n\t\t\tif (this.tickOnUpdate) { this.tick(props); }\n\t\t\tthis.dispatchEvent(\"drawstart\");\n\t\t\tif (this.autoClear) { this.clear(); }\n\t\t\t\n\t\t\tif (this._webGLContext) {\n\t\t\t\tthis._batchDraw(this, this._webGLContext);\n\t\t\t\tif (this._autoPurge != -1 && !(this._drawID%((this._autoPurge/2)|0))) {\n\t\t\t\t\tthis.purgeTextures(this._autoPurge);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.draw();\n\t\t\t}\r\n\t\t\t\n\t\t\tthis.dispatchEvent(\"drawend\");\r\n\t\t}\r\n\t\t\r\n\t\tstage.draw = containerDrawFunction;\r\n\t\t\r\n\t\tstage._updateFunction = stage.update;\r\n\t} else {\r\n\t\tstage._updateFunction = stage.tick;\r\n\t}\r\n\t\r\n\tif (stage._handleTick) {\r\n\t\tstage._tickFunction = function(e) {\r\n\t\t\tstage._updateFunction();\r\n\t\t\tstage._handleTick();\r\n\t\t};\r\n\t} else {\r\n\t\tstage._tickFunction = function(e) {\r\n\t\t\tstage._updateFunction();\r\n\t\t};\r\n\t}\r\n}"],"names":["Object","defineProperties","window","playSound","value","id","loop","createjs","Sound","play","interrupt","INTERRUPT_EARLY","const","createjsOrigin","DisplayObject","MovieClip","Sprite","Container","Text","Shape","Graphics","ButtonHelper","let","_isDown","EventMap","mousedown","types","factory","self","cb","e","currentTarget","_createjs","target","ev","data","rawX","global","x","rawY","y","rollover","rollout","pressmove","pressup","DEG_TO_RAD","Math","PI","appendixDescriptor","get","this","_originParams","set","_pixiData","instance","scaleX","scale","scaleY","skewX","skew","skewY","regX","regObj","regY","rotation","visible","alpha","_off","renderable","addEventListener","type","Function","func","i","length","t","events","push","origin","on","interactive","prototype","apply","arguments","removeEventListener","list","j","off","splice","res","listeners","_listeners","removeAllEventListeners","removeAllListeners","_pixi","mask","masked","once","parent","addChild","filters","subInstance","f","ColorMatrixFilter","m","PIXI","matrix","redMultiplier","redOffset","greenMultiplier","greenOffset","blueMultiplier","blueOffset","alphaMultiplier","alphaOffset","o","c","children","n","nc","_filterContainer","updateTransform","calculateBounds","b","getLocalBounds","cacheAsBitmap","removeChildren","v","getPixi","makeClass","unuseAppendix","CjsWrap","_overrideCreatejs","pixiClass","pixi","regx","regy","anchor","pivot","super","initialize","child","addChildAt","index","removeChild","removeChildAt","removeAllChldren","gotoAndStop","frame","spriteSheet","getFrame","currentFrame","baseTexture","BaseTexture","from","image","texture","Texture","rect","prototypeAccessors","graphics","_graphics","beginFill","strokeFill","strokeAlpha","moveTo","clone","endFill","containsPoint","beginHole","endHole","lineTo","arcTon","x1","y1","x2","y2","radius","arcTo","arc","startAngle","endAngle","anticlockwise","quadraticCurveTo","cpx","cpy","bezierCurveTo","cp1x","cp1y","cp2x","cp2y","w","h","drawRect","closePath","currentPath","points","clear","_parseColor","color","charAt","parseInt","slice","replace","split","Number","setStrokeStyle","thickness","caps","joints","miterLimit","ignoreScale","lineStyle","width","cap","LineCap","join","LineJoin","beginStroke","drawRoundRect","drawRoundedRect","drawCircle","drawEllipse","drawPolyStar","sides","pointSize","angle","drawRegularPolygon","0","LINE_JOIN","BUTT","1","ROUND","2","SQUARE","MITER","BEVEL","curveTo","mt","lt","at","bt","qt","a","r","cp","ef","ss","s","dr","rr","dc","de","dp","text","font","assign","textAlign","lineHeight","lineWidth","_font","_parseFont","fontSize","fontFamily","fill","wordWrap","prototypeAccessors$1","_align","p","shift","style","align","height","lineWidthWrap","baseFrame","overFrame","downFrame","hit","hitFrame","hitPixi","isOver","isDown","cursor","prepareCreatejsAsync","basepath","comp","AdobeAn","getComposition","Error","lib","getLibrary","Promise","resolve","reject","properties","manifest","loader","LoadQueue","installPlugin","evt","images","getImages","item","result","handleFileLoad","src","loadManifest","then","getSpriteSheet","queue","ssMetadata","name","SpriteSheet","getResult","frames","Player","rootName","pixiOptions","root","prop","_app","_PIXI.Application","backgroundColor","document","body","appendChild","view","stop","_id","_rootClass","_basepath","Ticker","framerate","fps","_handleTick","bind","prepareAsync","options","Core.prepareCreatejsAsync","exportRoot","_stage","Stage","stage","useSynchedTimeline","containerDrawFunction","l","isVisible","draw","_updateState","_containerDraw","imageDescriptors","Bitmap","update","props","tickOnUpdate","tick","dispatchEvent","autoClear","_webGLContext","_batchDraw","_autoPurge","_drawID","purgeTextures","_updateFunction","_tickFunction","Core.initStage","compositionLoaded","render","app"],"mappings":"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"}