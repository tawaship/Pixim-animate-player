{"version":3,"file":"pixi-createjs-player.min.js","sources":["../src/common/core.js","../src/common/global.ts","../src/pixi/Player.ts"],"sourcesContent":["import * as PIXI from 'pixi.js';\r\n\r\n/**\r\n * @ignore\r\n */\r\nexport function initAsync(id, basepath) {\r\n\tconst comp = window.AdobeAn.getComposition(id);\r\n\tif (!comp) {\r\n\t\tthrow new Error('no composition');\r\n\t}\r\n\t\r\n\tconst lib = comp.getLibrary();\r\n\t\r\n\treturn new Promise((resolve, reject) => {\r\n\t\tif (lib.properties.manifest.length === 0) {\r\n\t\t\tresolve({});\r\n\t\t}\r\n\t\t\n\t\tconst loader = new createjs.LoadQueue(false);\r\n\t\t\r\n\t\tloader.installPlugin(createjs.Sound);\r\n\t\t\n\t\tloader.addEventListener('fileload', function(evt) {\r\n\t\t\thandleFileLoad(evt, comp);\r\n\t\t});\r\n\t\t\n\t\tloader.addEventListener('complete', function(evt) {\r\n\t\t\tresolve(evt);\r\n\t\t});\r\n\t\t\r\n\t\tif (basepath) {\r\n\t\t\tbasepath = (basepath + '/').replace(/([^\\:])\\/\\//, \"$1/\");\r\n\t\t\tconst m = lib.properties.manifest;\r\n\t\t\tfor (let i = 0; i < m.length; i++) {\r\n\t\t\t\tm[i].src = basepath + m[i].src;\r\n\t\t\t}\n\t\t}\r\n\t\t\r\n\t\tloader.loadManifest(lib.properties.manifest);\r\n\t})\r\n\t.then(evt => {\r\n\t\tconst ss = comp.getSpriteSheet();\n\t\tconst queue = evt.target;\n\t\tconst ssMetadata = lib.ssMetadata;\r\n\t\t\n\t\tfor (let i = 0; i < ssMetadata.length; i++) {\n\t\t\tss[ssMetadata[i].name] = new window.createjs.SpriteSheet({\r\n\t\t\t\timages: [\r\n\t\t\t\t\tqueue.getResult(ssMetadata[i].name)\r\n\t\t\t\t],\r\n\t\t\t\tframes: ssMetadata[i].frames\r\n\t\t\t});\n\t\t}\r\n\t\t\r\n\t\treturn lib;\r\n\t});\r\n}\r\n\r\n/**\r\n * @ignore\r\n */\r\nfunction handleFileLoad(evt, comp) {\r\n\tconst images = comp.getImages();\r\n\tif (evt && (evt.item.type == 'image')) {\r\n\t\timages[evt.item.id] = evt.result;\r\n\t}\r\n}\r\n\r\n/**\r\n * @ignore\r\n */\r\nexport function initStage(stage, options) {\r\n\toptions = options || {};\r\n\t\r\n\tif (options.useSynchedTimeline) {\r\n\t\tfunction containerDrawFunction() {\r\n\t\t\tconst list = this.children.slice();\r\n\t\t\tfor (let i = 0,l = list.length; i < l; i++) {\r\n\t\t\t\tconst child = list[i];\r\n\t\t\t\tif (!child.isVisible()) { continue; }\r\n\t\t\t\tchild.draw();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn true;\r\n\t\t};\r\n\t\t\r\n\t\tfunction imageDrawFunction() {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\t\r\n\t\tObject.defineProperties(createjs.MovieClip.prototype, {\r\n\t\t\tdraw: {\r\n\t\t\t\tvalue: function() {\r\n\t\t\t\t\tthis._updateState();\r\n\t\t\t\t\treturn this._containerDraw();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t_containerDraw: {\r\n\t\t\t\tvalue: containerDrawFunction\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\tconst imageDescriptors = {\r\n\t\t\tdraw: {\r\n\t\t\t\tvalue: imageDrawFunction\r\n\t\t\t}\r\n\t\t};\r\n\t\t\r\n\t\tObject.defineProperties(createjs.Sprite.prototype, imageDescriptors);\r\n\t\tObject.defineProperties(createjs.Graphics.prototype, imageDescriptors);\r\n\t\tObject.defineProperties(createjs.Shape.prototype, imageDescriptors);\r\n\t\tObject.defineProperties(createjs.Text.prototype, imageDescriptors);\r\n\t\tObject.defineProperties(createjs.Bitmap.prototype, imageDescriptors);\r\n\t\t\r\n\t\tstage.update = function(props) {\r\n\t\t\tif (this.tickOnUpdate) { this.tick(props); }\n\t\t\tthis.dispatchEvent(\"drawstart\");\n\t\t\tif (this.autoClear) { this.clear(); }\n\t\t\t\n\t\t\tif (this._webGLContext) {\n\t\t\t\tthis._batchDraw(this, this._webGLContext);\n\t\t\t\tif (this._autoPurge != -1 && !(this._drawID%((this._autoPurge/2)|0))) {\n\t\t\t\t\tthis.purgeTextures(this._autoPurge);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.draw();\n\t\t\t}\r\n\t\t\t\n\t\t\tthis.dispatchEvent(\"drawend\");\r\n\t\t}\r\n\t\t\r\n\t\tstage.draw = containerDrawFunction;\r\n\t\t\r\n\t\tstage._updateFunction = stage.update;\r\n\t} else {\r\n\t\tstage._updateFunction = stage.tick;\r\n\t}\r\n\t\r\n\tif (stage._handleTick) {\r\n\t\tstage._tickFunction = function(e) {\r\n\t\t\tstage._updateFunction();\r\n\t\t\tstage._handleTick();\r\n\t\t};\r\n\t} else {\r\n\t\tstage._tickFunction = function(e) {\r\n\t\t\tstage._updateFunction();\r\n\t\t};\r\n\t}\r\n}\r\n\r\n/**\r\n * @ignore\r\n */\r\nconst createjsOrigin = {\r\n\tDisplayObject: createjs.DisplayObject,\r\n\tMovieClip: createjs.MovieClip,\r\n\tSprite: createjs.Sprite,\r\n\tContainer: createjs.Container,\r\n\tText: createjs.Text,\r\n\tShape: createjs.Shape,\r\n\tGraphics: createjs.Graphics,\r\n\tButtonHelper: createjs.ButtonHelper\r\n};\r\n\r\n/**\r\n * @ignore\r\n */\r\nfunction overrideCreatejs(self, pixi) {\r\n\tself._originParams = {\r\n\t\tx: 0,\r\n\t\ty: 0,\r\n\t\tscaleX: 0,\r\n\t\tscaleY: 0,\r\n\t\tregx: 0,\r\n\t\tregy: 0,\r\n\t\tskewX: 0,\r\n\t\tskewY: 0,\r\n\t\trotation: 0,\r\n\t\tvisible: true,\r\n\t\talpha: 1,\r\n\t\t_off: false,\r\n\t\tmask: null,\r\n\t\tfilters: null\r\n\t};\r\n\t\r\n\tpixi._createjs = self;\r\n\t\r\n\tself._pixiData = {\r\n\t\tinstance: pixi,\r\n\t\tregObj: pixi.anchor || pixi.pivot,\r\n\t\tevents: {}\r\n\t};\r\n}\r\n\r\n/**\r\n * @ignore\r\n */\r\nlet _downInstance;\r\n\r\n/**\r\n * @ignore\r\n */\r\nlet _isDown = false;\r\n\r\n/**\r\n * @ignore\r\n */\r\nconst EventMap = {\r\n\tmousedown: {\r\n\t\ttypes: ['pointerdown'],\r\n\t\tfactory: function(self, cb) {\r\n\t\t\treturn function(e) {\r\n\t\t\t\te.currentTarget = e.currentTarget._createjs;\r\n\t\t\t\t\r\n\t\t\t\te.target = e.target._createjs;\r\n\t\t\t\tconst ev = e.data;\r\n\t\t\t\te.rawX = ev.global.x;\r\n\t\t\t\te.rawY = ev.global.y;\r\n\t\t\t\t\r\n\t\t\t\t_isDown = true;\r\n\t\t\t\t\r\n\t\t\t\tcb(e);\r\n\t\t\t};\r\n\t\t}\r\n\t},\r\n\t/*\r\n\tmouseup: {\r\n\t\ttypes: ['pointerup'],\r\n\t\tfactory: function(self, cb) {\r\n\t\t\treturn function(e) {\r\n\t\t\t\te.currentTarget = e.currentTarget._createjs;\r\n\t\t\t\t\r\n\t\t\t\te.target = e.target._createjs;\r\n\t\t\t\tconst ev = e.data;\r\n\t\t\t\te.rawX = ev.global.x;\r\n\t\t\t\te.rawY = ev.global.y;\r\n\t\t\t\t\r\n\t\t\t\t_isDown = true;\r\n\t\t\t\t\r\n\t\t\t\tcb(e);\r\n\t\t\t};\r\n\t\t}\r\n\t},\r\n\t*/\r\n\trollover: {\r\n\t\ttypes: ['pointerover'],\r\n\t\tfactory: function(self, cb) {\r\n\t\t\treturn function(e) {\r\n\t\t\t\te.currentTarget = e.currentTarget._createjs;\r\n\t\t\t\t\r\n\t\t\t\te.target = e.target._createjs;\r\n\t\t\t\tconst ev = e.data;\r\n\t\t\t\te.rawX = ev.global.x;\r\n\t\t\t\te.rawY = ev.global.y;\r\n\t\t\t\t\r\n\t\t\t\t_isDown = true;\r\n\t\t\t\t\r\n\t\t\t\tcb(e);\r\n\t\t\t};\r\n\t\t}\r\n\t},\r\n\trollout: {\r\n\t\ttypes: ['pointerout'],\r\n\t\tfactory: function(self, cb) {\r\n\t\t\treturn function(e) {\r\n\t\t\t\te.currentTarget = e.currentTarget._createjs;\r\n\t\t\t\t\r\n\t\t\t\te.target = e.currentTarget._createjs;\r\n\t\t\t\tconst ev = e.data;\r\n\t\t\t\te.rawX = ev.global.x;\r\n\t\t\t\te.rawY = ev.global.y;\r\n\t\t\t\t\r\n\t\t\t\t_isDown = true;\r\n\t\t\t\t\r\n\t\t\t\tcb(e);\r\n\t\t\t};\r\n\t\t}\r\n\t},\r\n\tpressmove:{\r\n\t\ttypes: ['pointermove'],\r\n\t\tfactory:  function(self, cb) {\r\n\t\t\treturn function(e) {\r\n\t\t\t\tif (!_isDown) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\te.currentTarget = self;\r\n\t\t\t\t\r\n\t\t\t\te.target = e.target && e.target._createjs;\r\n\t\t\t\tconst ev = e.data;\r\n\t\t\t\te.rawX = ev.global.x;\r\n\t\t\t\te.rawY = ev.global.y;\r\n\t\t\t\t\r\n\t\t\t\tcb(e);\r\n\t\t\t};\r\n\t\t}\r\n\t},\r\n\tpressup: {\r\n\t\ttypes: ['pointerup', 'pointeupoutside'],\r\n\t\tfactory: function(self, cb) {\r\n\t\t\treturn function(e) {\r\n\t\t\t\tif (!_isDown) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\te.currentTarget = self;\r\n\t\t\t\t\r\n\t\t\t\t_isDown = false;\r\n\t\t\t\t\r\n\t\t\t\te.target = e.target && e.target._createjs;\r\n\t\t\t\tconst ev = e.data;\r\n\t\t\t\te.rawX = ev.global.x;\r\n\t\t\t\te.rawY = ev.global.y;\r\n\t\t\t\t\r\n\t\t\t\tcb(e);\r\n\t\t\t};\r\n\t\t}\r\n\t}\r\n}\r\n\r\n/**\r\n * @ignore\r\n */\r\nconst DEG_TO_RAD = Math.PI / 180;\r\n\r\n/**\r\n * @ignore\r\n */\r\nconst COLOR_RED = 16 * 16 * 16 * 16;\r\n\r\n/**\r\n * @ignore\r\n */\r\nconst COLOR_GREEN = 16 * 16;\r\n\r\n/**\r\n * @ignore\r\n */\r\nconst appendixDescriptor = {\r\n\tx: {\r\n\t\tget: function() {\r\n\t\t\treturn this._originParams.x;\r\n\t\t},\r\n\t\t\r\n\t\tset: function(value) {\r\n\t\t\tthis._pixiData.instance.x = value;\r\n\t\t\treturn this._originParams.x = value;\r\n\t\t}\r\n\t},\r\n\ty: {\r\n\t\tget: function() {\r\n\t\t\treturn this._originParams.y;\r\n\t\t},\r\n\t\t\r\n\t\tset: function(value) {\r\n\t\t\tthis._pixiData.instance.y = value;\r\n\t\t\treturn this._originParams.y = value;\r\n\t\t}\r\n\t},\r\n\tscaleX: {\r\n\t\tget: function() {\r\n\t\t\treturn this._originParams.scaleX;\r\n\t\t},\r\n\t\t\r\n\t\tset: function(value) {\r\n\t\t\tthis._pixiData.instance.scale.x = value;\r\n\t\t\treturn this._originParams.scaleX = value;\r\n\t\t}\r\n\t},\r\n\tscaleY: {\r\n\t\tget: function() {\r\n\t\t\treturn this._originParams.scaleY;\r\n\t\t},\r\n\t\t\r\n\t\tset: function(value) {\r\n\t\t\tthis._pixiData.instance.scale.y = value;\r\n\t\t\treturn this._originParams.scaleY = value;\r\n\t\t}\r\n\t},\r\n\tskewX: {\r\n\t\tget: function() {\r\n\t\t\treturn this._originParams.skewX;\r\n\t\t},\r\n\t\t\r\n\t\tset: function(value) {\r\n\t\t\tthis._pixiData.instance.skew.x = -value * DEG_TO_RAD;\r\n\t\t\treturn this._originParams.skewX = value;\r\n\t\t}\r\n\t},\r\n\tskewY: {\r\n\t\tget: function() {\r\n\t\t\treturn this._originParams.skewY;\r\n\t\t},\r\n\t\t\r\n\t\tset: function(value) {\r\n\t\t\tthis._pixiData.instance.skew.y = value * DEG_TO_RAD;\r\n\t\t\treturn this._originParams.skewY = value;\r\n\t\t}\r\n\t\r\n\t},\r\n\tregX: {\r\n\t\tget: function() {\r\n\t\t\treturn this._originParams.regX;\r\n\t\t},\r\n\t\t\r\n\t\tset: function(value) {\r\n\t\t\tthis._pixiData.regObj.x = value;\r\n\t\t\treturn this._originParams.regX = value;\r\n\t\t}\r\n\t},\r\n\tregY: {\r\n\t\tget: function() {\r\n\t\t\treturn this._originParams.regY;\r\n\t\t},\r\n\t\t\r\n\t\tset: function(value) {\r\n\t\t\tthis._pixiData.regObj.y = value;\r\n\t\t\treturn this._originParams.regY = value;\r\n\t\t}\r\n\t},\r\n\trotation: {\r\n\t\tget: function() {\r\n\t\t\treturn this._originParams.rotation;\r\n\t\t},\r\n\t\t\r\n\t\tset: function(value) {\r\n\t\t\tthis._pixiData.instance.rotation = value * DEG_TO_RAD;\r\n\t\t\treturn this._originParams.rotation = value;\r\n\t\t}\r\n\t},\r\n\tvisible: {\r\n\t\tget: function() {\r\n\t\t\treturn this._originParams.visible;\r\n\t\t},\r\n\t\t\r\n\t\tset: function(value) {\r\n\t\t\tvalue = !!value;\r\n\t\t\tthis._pixiData.instance.visible = value;\r\n\t\t\treturn this._originParams.visible = value;\r\n\t\t}\r\n\t},\r\n\talpha: {\r\n\t\tget: function() {\r\n\t\t\treturn this._originParams.alpha;\r\n\t\t},\r\n\t\t\r\n\t\tset: function(value) {\r\n\t\t\tthis._pixiData.instance.alpha = value;\r\n\t\t\treturn this._originParams.alpha = value;\r\n\t\t}\r\n\t},\r\n\t_off: {\r\n\t\tget: function() {\r\n\t\t\treturn this._originParams._off;\r\n\t\t},\r\n\t\t\r\n\t\tset: function(value) {\r\n\t\t\tthis._pixiData.instance.renderable = !value;\r\n\t\t\treturn this._originParams._off = value;\r\n\t\t}\r\n\t},\r\n\t/*\r\n\tdispatchEvent: {\r\n\t\tvalue: function(eventObj, bubbles, cancelable) {\r\n\t\t\tvar type = eventObj typeof 'string' ? eventObj : eventObj.type;\r\n\t\t\t\r\n\t\t\tthis._pixiData.instance.emit(type, eventObj);\r\n\t\t\t\r\n\t\t\treturn createjsOrigin.DisplayObject.prototype.dispatchEvent.apply(this, arguments);\r\n\t\t}\r\n\t},\r\n\t*/\r\n\taddEventListener: {\r\n\t\tvalue: function(type, cb) {\r\n\t\t\tif (!(cb instanceof Function)) {\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (type in EventMap) {\r\n\t\t\t\tconst ev = EventMap[type];\r\n\t\t\t\t\r\n\t\t\t\tconst func = ev.factory(this, cb);\r\n\t\t\t\t\r\n\t\t\t\tconst types = ev.types;\r\n\t\t\t\t\r\n\t\t\t\tfor (let i = 0; i < types.length; i++) {\r\n\t\t\t\t\tconst t = types[i];\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis._pixiData.events[t] = this._pixiData.events[t] || [];\r\n\t\t\t\t\tthis._pixiData.events[t].push({ func: func, origin: cb });\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis._pixiData.instance.on(t, func);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tthis._pixiData.instance.interactive = true;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn createjsOrigin.DisplayObject.prototype.addEventListener.apply(this, arguments);\r\n\t\t}\r\n\t},\r\n\tremoveEventListener: {\r\n\t\tvalue: function(type, cb) {\r\n\t\t\tif (type in EventMap) {\r\n\t\t\t\tconst ev = EventMap[type];\r\n\t\t\t\t\r\n\t\t\t\tconst types = ev.types;\r\n\t\t\t\t\r\n\t\t\t\tfor (let i = 0; i < types.length; i++) {\r\n\t\t\t\t\tconst t = types[i];\r\n\t\t\t\t\t\r\n\t\t\t\t\tconst list = this._pixiData.events[t];\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (list) {\r\n\t\t\t\t\t\tfor (var j = list.length - 1; j >= 0; j--) {\r\n\t\t\t\t\t\t\tif (list[j].origin === cb) {\r\n\t\t\t\t\t\t\t\tthis._pixiData.instance.off(t, list[j].func);\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tlist.splice(j, 1);\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif (list.length === 0) {\r\n\t\t\t\t\t\t\tdelete(this._pixiData.events[t]);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tconst res = createjsOrigin.DisplayObject.prototype.removeEventListener.apply(this, arguments);\r\n\t\t\t\r\n\t\t\tconst listeners = this._listeners;\r\n\t\t\tif (!listeners) {\r\n\t\t\t\treturn res;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tlet f = false;\r\n\t\t\t\r\n\t\t\tfor (let i in EventMap) {\r\n\t\t\t\tif (!listeners[i]) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif (listeners[i].length > 0) {\r\n\t\t\t\t\tf = true;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn res;\r\n\t\t}\r\n\t},\r\n\tremoveAllEventListeners: {\r\n\t\tvalue: function(type) {\r\n\t\t\tthis._pixiData.instance.removeAllListeners(type);\r\n\t\t\tthis._pixi.instance.interactive = false;\r\n\t\t\tthis._pixiData.events = {};\r\n\t\t\t\r\n\t\t\treturn createjsOrigin.DisplayObject.prototype.removeAllEventListeners.apply(this, arguments);\r\n\t\t}\r\n\t},\r\n\tmask: {\r\n\t\tget: function() {\r\n\t\t\treturn this._originParams.mask;\r\n\t\t},\r\n\t\t\r\n\t\tset: function(value) {\r\n\t\t\tif (value) {\r\n\t\t\t\tvalue._pixiData.masked.push(this._pixiData.instance);\r\n\t\t\t\tthis._pixiData.instance.mask = value._pixiData.instance;\r\n\t\t\t\t\r\n\t\t\t\tthis._pixiData.instance.once('added', function() {\r\n\t\t\t\t\tthis.parent.addChild(value._pixiData.instance);\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tthis._pixiData.instance.mask = null;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn this._originParams.mask = value;\r\n\t\t}\r\n\t},\r\n\tfilters: {\r\n\t\tget: function() {\r\n\t\t\treturn this._originParams.filters;\r\n\t\t},\r\n\t\t\r\n\t\tset: function(value) {\r\n\t\t\tif (this._pixiData.subInstance) {\r\n\t\t\t\tif (value) {\r\n\t\t\t\t\tconst list = [];\r\n\t\t\t\t\t\r\n\t\t\t\t\tfor (var i = 0; i < value.length; i++) {\r\n\t\t\t\t\t\tconst f = value[i];\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif (f instanceof createjs.ColorMatrixFilter) {\r\n\t\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tconst m = new PIXI.filters.ColorMatrixFilter();\r\n\t\t\t\t\t\tm.matrix = [\r\n\t\t\t\t\t\t\tf.redMultiplier, 0, 0, 0, f.redOffset / 255,\r\n\t\t\t\t\t\t\t0, f.greenMultiplier, 0, 0, f.greenOffset / 255,\r\n\t\t\t\t\t\t\t0, 0, f.blueMultiplier, 0, f.blueOffset / 255,\r\n\t\t\t\t\t\t\t0, 0, 0, f.alphaMultiplier, f.alphaOffset / 255,\r\n\t\t\t\t\t\t\t0, 0, 0, 0, 1\r\n\t\t\t\t\t\t];\r\n\t\t\t\t\t\tlist.push(m);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tvar o = this._pixiData.instance;\r\n\t\t\t\t\tvar c = o.children;\r\n\t\t\t\t\tvar n = new PIXI.Container();\r\n\t\t\t\t\tvar nc = this._pixiData.subInstance = n.addChild(new PIXI.Container());\r\n\t\t\t\t\t\r\n\t\t\t\t\twhile (c.length) {\r\n\t\t\t\t\t\tnc.addChild(c[0]);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\to.addChild(n);\r\n\t\t\t\t\to._filterContainer = nc;\r\n\t\t\t\t\t\r\n\t\t\t\t\tnc.updateTransform();\r\n\t\t\t\t\tnc.calculateBounds();\r\n\t\t\t\t\t\r\n\t\t\t\t\tconst b = nc.getLocalBounds();\r\n\t\t\t\t\tconst x = b.x;\r\n\t\t\t\t\tconst y = b.y;\r\n\t\t\t\t\t\r\n\t\t\t\t\tfor (var i = 0; i < nc.children.length; i++) {\r\n\t\t\t\t\t\tnc.children[i].x -= x;\r\n\t\t\t\t\t\tnc.children[i].y -= y;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif (nc.children[i]._filterContainer) {\r\n\t\t\t\t\t\t\tnc.children[i]._filterContainer.cacheAsBitmap = false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tn.x = x;\r\n\t\t\t\t\tn.y = y;\r\n\t\t\t\t\t\r\n\t\t\t\t\tnc.filters = list;\r\n\t\t\t\t\tnc.cacheAsBitmap = true;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconst o = this._pixiData.instance;\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (o._filterContainer) {\r\n\t\t\t\t\t\tconst nc = this._pixiData.subInstance;\r\n\t\t\t\t\t\tconst n = nc.parent;\r\n\t\t\t\t\t\tconst c = nc.children;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\to.removeChildren();\r\n\t\t\t\t\t\to._filterContainer = null;\r\n\t\t\t\t\t\twhile (c.length) {\r\n\t\t\t\t\t\t\tconst v = o.addChild(c[0]);\r\n\t\t\t\t\t\t\tv.x += n.x;\r\n\t\t\t\t\t\t\tv.y += n.y;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tnc.filters = null;\r\n\t\t\t\t\t\tnc.cacheAsBitmap = false;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tthis._pixiData.subInstance = o;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn this._originParams.filters = value;\r\n\t\t}\r\n\t},\r\n\tgetPixi: {\r\n\t\tvalue: function() {\r\n\t\t\treturn this._pixiData.instance;\r\n\t\t}\r\n\t}\r\n};\r\n\r\n/**\r\n * @ignore\r\n */\r\nfunction makeClass(parent, unuseAppendix = false) {\r\n\tclass CjsWrap extends parent {\r\n\t\t_overrideCreatejs(pixiClass) {\r\n\t\t\toverrideCreatejs(this, new pixiClass());\r\n\t\t}\r\n\t}\r\n\t\r\n\tif (!unuseAppendix) {\r\n\t\tObject.defineProperties(CjsWrap.prototype, appendixDescriptor);\r\n\t}\r\n\t\r\n\treturn CjsWrap;\r\n}\r\n\r\ncreatejs.MovieClip = class MovieClip extends makeClass(createjsOrigin.MovieClip) {\r\n\tconstructor() {\r\n\t\tthis._overrideCreatejs(PIXI.Container);\r\n\t\t\r\n\t\tsuper(...arguments);\r\n\t}\r\n\t\r\n\tinitialize() {\r\n\t\tthis._overrideCreatejs(PIXI.Container);\r\n\t\tthis._pixiData.subInstance = this._pixiData.instance;//.addChild(new PIXI.Container());\r\n\t\t\r\n\t\treturn super.initialize(...arguments);\r\n\t}\r\n\t\r\n\taddChild(child) {\r\n\t\tthis._pixiData.subInstance.addChild(child._pixiData.instance);\r\n\t\t\r\n\t\treturn super.addChild(child);\r\n\t}\r\n\t\r\n\taddChildAt(child, index) {\r\n\t\tthis._pixiData.subInstance.addChildAt(child._pixiData.instance, index);\r\n\t\t\r\n\t\treturn super.addChildAt(child, index);\r\n\t}\r\n\t\r\n\tremoveChild(child) {\r\n\t\tthis._pixiData.subInstance.removeChild(child._pixiData.instance);\r\n\t\t\r\n\t\treturn super.removeChild(child);\r\n\t}\r\n\t\r\n\tremoveChildAt(index) {\r\n\t\tthis._pixiData.subInstance.removeChildAt(index);\r\n\t\t\r\n\t\treturn super.removeChildAt(index);\r\n\t}\r\n\t\r\n\tremoveAllChldren() {\r\n\t\tthis._pixiData.subInstance.removeChildren();\r\n\t\t\r\n\t\treturn super.removeAllChldren();\r\n\t}\r\n}\r\n\r\ncreatejs.Sprite = class Sprite extends makeClass(createjsOrigin.Sprite) {\r\n\tconstructor() {\r\n\t\tthis._overrideCreatejs(PIXI.Sprite);\r\n\t\t\r\n\t\tsuper(...arguments);\r\n\t}\r\n\t\r\n\tinitialize() {\r\n\t\tthis._overrideCreatejs(PIXI.Sprite);\r\n\t\t\r\n\t\treturn super.initialize(...arguments);\r\n\t}\r\n\t\r\n\tgotoAndStop() {\r\n\t\tsuper.gotoAndStop(...arguments);\r\n\t\t\r\n\t\tconst frame = this.spriteSheet.getFrame(this.currentFrame);\r\n\t\tconst baseTexture = PIXI.BaseTexture.from(frame.image);\r\n\t\tconst texture = new PIXI.Texture(baseTexture, frame.rect);\r\n\t\t\r\n\t\tthis._pixiData.instance.texture = texture;\r\n\t}\r\n}\r\n\r\ncreatejs.Shape = class Sprite extends makeClass(createjsOrigin.Shape) {\r\n\tconstructor() {\r\n\t\tthis._overrideCreatejs(PIXI.Container);\r\n\t\tthis._pixiData.masked = [];\r\n\t\t\r\n\t\tsuper(...arguments);\r\n\t}\r\n\t\r\n\tget graphics() {\r\n\t\treturn this._graphics;\r\n\t}\r\n\t\r\n\tset graphics(value) {\r\n\t\tif (this._pixiData.masked.length) {\r\n\t\t\tthis._pixiData.instance.removeChildren();\r\n\t\t\t\r\n\t\t\tif (value) {\r\n\t\t\t\tfor (let i = 0; i < this._pixiData.masked.length; i++) {\r\n\t\t\t\t\tthis._pixiData.masked[i].mask = this._pixiData.instance;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tfor (let i = 0; i < this._pixiData.masked.length; i++) {\r\n\t\t\t\t\tthis._pixiData.masked[i].mask = null;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tif (value) {\r\n\t\t\tthis._pixiData.instance.addChild(value._pixiData.instance);\r\n\t\t}\r\n\t\t\r\n\t\treturn this._graphics = value;\r\n\t}\r\n}\r\n\r\ncreatejs.Graphics = class Sprite extends makeClass(createjsOrigin.Graphics) {\r\n\tconstructor() {\r\n\t\tthis._overrideCreatejs(PIXI.Graphics);\r\n\t\t\r\n\t\tthis._pixiData.instance.beginFill(0xFFEEEE, 1);\r\n\t\t\r\n\t\tthis._pixiData.strokeFill = 0;\r\n\t\tthis._pixiData.strokeAlpha = 1;\r\n\t\t\r\n\t\tsuper(...arguments);\r\n\t}\r\n\t\r\n\tmoveTo(x, y) {\r\n\t\tif (this._pixiData.instance.clone().endFill().containsPoint({x: x, y: y})) {\r\n\t\t\tthis._pixiData.instance.beginHole();\r\n\t\t} else {\r\n\t\t\tthis._pixiData.instance.endHole();\r\n\t\t}\r\n\t\t\r\n\t\tthis._pixiData.instance.moveTo(x, y);\r\n\t\t\r\n\t\treturn super.moveTo(x, y);\r\n\t}\r\n\t\r\n\tlineTo(x, y) {\r\n\t\tthis._pixiData.instance.lineTo(x, y);\r\n\t\t\r\n\t\treturn super.lineTo(x, y);\r\n\t}\r\n\t\r\n\tarcTon(x1, y1, x2, y2, radius) {\r\n\t\tthis._pixiData.instance.arcTo(x1, y1, x2, y2, radius);\r\n\t\t\r\n\t\treturn super.arcTo(x1, y1, x2, y2, radius);\r\n\t}\r\n\t\r\n\tarc(x, y, radius, startAngle, endAngle, anticlockwise) {\r\n\t\tthis._pixiData.instance.arc(x, y, radius, startAngle, endAngle, anticlockwise);\r\n\t\t\r\n\t\treturn super.arc(x, y, radius, startAngle, endAngle, anticlockwise);\r\n\t}\r\n\t\r\n\tquadraticCurveTo(cpx, cpy, x, y) {\r\n\t\tthis._pixiData.instance.quadraticCurveTo(cpx, cpy, x, y);\r\n\t\t\r\n\t\treturn super.quadraticCurveTo(cpx, cpy, x, y);\r\n\t}\r\n\t\r\n\tbezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y) {\r\n\t\tthis._pixiData.instance.bezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y);\r\n\t\t\r\n\t\treturn super.bezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y);\r\n\t}\r\n\t\r\n\trect(x, y, w, h) {\r\n\t\tthis._pixiData.instance.drawRect(x, y, w, h);\r\n\t\t\r\n\t\treturn super.rect(x, y, w, h);\r\n\t}\r\n\t\r\n\tclosePath() {\r\n\t\tthis._pixiData.instance.closePath();\r\n\t\t\r\n\t\tconst points = this._pixiData.instance.currentPath.points;\r\n\t\t\r\n\t\treturn super.closePath();\r\n\t}\r\n\t\r\n\tclear() {\r\n\t\tthis._pixiData.instance.clear();\r\n\t\t\r\n\t\treturn super.clear();\r\n\t}\r\n\t\r\n\t_parseColor(color) {\r\n\t\tconst res = {\r\n\t\t\tcolor: 0,\r\n\t\t\talpha: 1\r\n\t\t};\r\n\t\t\r\n\t\tif (!color) {\r\n\t\t\tres.alpha = 0;\r\n\t\t\treturn res;\r\n\t\t}\r\n\t\t\r\n\t\tif (color.charAt(0) === '#') {\r\n\t\t\tres.color = parseInt(color.slice(1), 16);\r\n\t\t\treturn res;\r\n\t\t}\r\n\t\t\r\n\t\tcolor = color.replace(/rgba|\\(|\\)|\\s/g, '').split(',');\r\n\t\t\r\n\t\tres.color = Number(color[0]) * COLOR_RED + Number(color[1]) * COLOR_GREEN + Number(color[2]);\r\n\t\tres.alpha = Number(color[3]);\r\n\t\t\r\n\t\treturn res;\r\n\t}\r\n\t\r\n\tbeginFill(color) {\r\n\t\tconst c = this._parseColor(color);\r\n\t\tthis._pixiData.instance.beginFill(c.color, c.alpha);\r\n\t\t\r\n\t\treturn super.beginFill(color);\r\n\t}\r\n\t\t\r\n\tendFill() {\r\n\t\tthis._pixiData.instance.endFill();\r\n\t\t\r\n\t\treturn super.endFill();\r\n\t}\r\n\t\r\n\tsetStrokeStyle(thickness, caps, joints, miterLimit, ignoreScale) {\r\n\t\tthis._pixiData.instance.lineStyle({\r\n\t\t\twidth: thickness,\r\n\t\t\tcolor: this._pixiData.strokeFill,\r\n\t\t\talpha: this._pixiData.strokeAlpha,\r\n\t\t\tcap: (caps in LineCap) ? LineCap[caps] : caps,\r\n\t\t\tjoin: (joints in LineJoin) ? LineJoin[joints] : joints,\r\n\t\t\tmiterLimit: miterLimit\r\n\t\t});\r\n\t\t\r\n\t\treturn super.setStrokeStyle(thickness, caps, joints, miterLimit, ignoreScale);\r\n\t}\r\n\t\r\n\tbeginStroke(color) {\r\n\t\tconst c = this._parseColor(color);\r\n\t\tthis._pixiData.strokeFill = c.color;\r\n\t\tthis._pixiData.strokeAlpha = c.alpha;\r\n\t\t\r\n\t\treturn super.beginStroke(color);\r\n\t}\r\n\t\r\n\tdrawRoundRect(x, y, w, h, radius) {\r\n\t\tthis._pixiData.instance.drawRoundedRect(x, y, w, h, radius);\r\n\t\t\r\n\t\treturn super.drawRoundRect(x, y, w, h, radius);\r\n\t}\r\n\t\r\n\tdrawCircle(x, y, radius) {\r\n\t\tthis._pixiData.instance.drawCircle(x, y, radius);\r\n\t\t\r\n\t\treturn super.drawCircle(x, y, radius);\r\n\t}\r\n\t\r\n\tdrawEllipse(x, y, w, h) {\r\n\t\tthis._pixiData.instance.drawEllipse(x, y, w, h);\r\n\t\t\r\n\t\treturn super.drawEllipse(x, y, w, h);\r\n\t}\r\n\t\r\n\tdrawPolyStar(x, y, radius, sides, pointSize, angle) {\r\n\t\tthis._pixiData.instance.drawRegularPolygon(x, y, radius, sides, angle * DEG_TO_RAD);\r\n\t\t\r\n\t\treturn super.drawPolyStar(x, y, radius, sides, pointSize, angle);\r\n\t}\r\n}\r\n\r\n/**\r\n * @ignore\r\n */\r\nconst LineCap = {\r\n\t0: PIXI.LINE_JOIN.BUTT,\r\n\t1: PIXI.LINE_JOIN.ROUND,\r\n\t2: PIXI.LINE_JOIN.SQUARE\r\n};\r\n\r\n/**\r\n * @ignore\r\n */\r\nconst LineJoin = {\r\n\t0: PIXI.LINE_JOIN.MITER,\r\n\t1: PIXI.LINE_JOIN.ROUND,\r\n\t2: PIXI.LINE_JOIN.BEVEL\r\n};\r\n\r\nObject.defineProperties(createjs.Graphics.prototype, {\r\n\tcurveTo: {\r\n\t\tvalue: createjs.Graphics.prototype.quadraticCurveTo\r\n\t},\r\n\t\r\n\tdrawRect: {\r\n\t\tvalue: createjs.Graphics.prototype.rect\r\n\t},\r\n\t\r\n\tmt: {\r\n\t\tvalue: createjs.Graphics.prototype.moveTo\r\n\t},\r\n\t\r\n\tlt: {\r\n\t\tvalue: createjs.Graphics.prototype.lineTo\r\n\t},\r\n\t\r\n\tat: {\r\n\t\tvalue: createjs.Graphics.prototype.arcTo\r\n\t},\r\n\t\r\n\tbt: {\r\n\t\tvalue: createjs.Graphics.prototype.bezierCurveTo\r\n\t},\r\n\t\r\n\tqt: {\r\n\t\tvalue: createjs.Graphics.prototype.quadraticCurveTo\r\n\t},\r\n\t\r\n\ta: {\r\n\t\tvalue: createjs.Graphics.prototype.arc\r\n\t},\r\n\t\r\n\tr: {\r\n\t\tvalue: createjs.Graphics.prototype.rect\r\n\t},\r\n\t\r\n\tcp: {\r\n\t\tvalue: createjs.Graphics.prototype.closePath\r\n\t},\r\n\t\r\n\tc: {\r\n\t\tvalue: createjs.Graphics.prototype.clear\r\n\t},\r\n\t\r\n\tf: {\r\n\t\tvalue: createjs.Graphics.prototype.beginFill\r\n\t},\r\n\t\r\n\tef: {\r\n\t\tvalue: createjs.Graphics.prototype.endFill\r\n\t},\r\n\t\r\n\tss: {\r\n\t\tvalue: createjs.Graphics.prototype.setStrokeStyle\r\n\t},\r\n\t\r\n\ts: {\r\n\t\tvalue: createjs.Graphics.prototype.beginStroke\r\n\t},\r\n\t\r\n\tdr: {\r\n\t\tvalue: createjs.Graphics.prototype.drawRect\r\n\t},\r\n\t\r\n\trr: {\r\n\t\tvalue: createjs.Graphics.prototype.drawRoundRect\r\n\t},\r\n\t\r\n\tdc: {\r\n\t\tvalue: createjs.Graphics.prototype.drawCircle\r\n\t},\r\n\t\r\n\tde: {\r\n\t\tvalue: createjs.Graphics.prototype.drawEllipse\r\n\t},\r\n\t\r\n\tdp: {\r\n\t\tvalue: createjs.Graphics.prototype.drawPolyStar\r\n\t}\r\n});\r\n\r\ncreatejs.Text = class Sprite extends makeClass(createjsOrigin.Text) {\r\n\tconstructor(text, font, color) {\r\n\t\tthis._overrideCreatejs(PIXI.Container);\r\n\t\t\r\n\t\tthis._originParams = Object.assign(this._originParams, {\r\n\t\t\ttext: text,\r\n\t\t\tfont: font,\r\n\t\t\tcolor: color,\r\n\t\t\ttextAlign: 'left',\r\n\t\t\tlineHeight: 0,\r\n\t\t\tlineWidth: 0\r\n\t\t});\r\n\t\t\r\n\t\tconst _font = this._parseFont(font);\r\n\t\t\r\n\t\tthis._pixiData.instance.text = this._pixiData.instance.addChild(new PIXI.Text(text, {\r\n\t\t\tfontSize: _font.fontSize,\r\n\t\t\tfontFamily: _font.fontFamily,\r\n\t\t\tfill: this._parseColor(color),\r\n\t\t\twordWrap: true\r\n\t\t}));\r\n\t\t\r\n\t\tsuper(...arguments);\r\n\t}\r\n\t\r\n\tget text() {\r\n\t\treturn this._originParams.text;\r\n\t}\r\n\t\r\n\tset text(text) {\r\n\t\tthis._pixiData.instance.text.text = text;\r\n\t\tthis._align(this.textAlign);\r\n\t\t\r\n\t\treturn this._originParams.text = text;\r\n\t}\r\n\t\r\n\t_parseFont(font) {\r\n\t\tconst p = font.split(' ');\r\n\t\t\r\n\t\treturn {\r\n\t\t\tfontSize: Number(p.shift().replace('px', '')),\r\n\t\t\tfontFamily: p.join(' ').replace(/'/g, '') //'\r\n\t\t};\r\n\t}\r\n\t\r\n\tget font() {\r\n\t\treturn this._originParams.font;\r\n\t}\r\n\t\r\n\tset font(font) {\r\n\t\tconst _font = this._parseFont(font);\r\n\t\tthis._pixiData.instance.text.style.fontSize = _font.fontSize;\r\n\t\tthis._pixiData.instance.text.style.fontFamily = _font.fontFamily;\r\n\t\t\r\n\t\treturn this._originParams.font = font;\r\n\t}\r\n\t\r\n\t_parseColor(color) {\r\n\t\treturn parseInt(color.slice(1), 16);\r\n\t}\r\n\t\r\n\tget color() {\r\n\t\treturn this._originParams.color;\r\n\t}\r\n\tset color(color) {\r\n\t\tthis._pixiData.instance.text.style.fill = this._parseColor(color);\r\n\t\t\r\n\t\treturn this._originParams.color = color;\r\n\t}\r\n\t\r\n\t_align(align) {\r\n\t\tif (align === 'left') {\r\n\t\t\tthis._pixiData.instance.text.x = 0;\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\tif (align === 'center') {\r\n\t\t\tthis._pixiData.instance.text.x = -this.lineWidth / 2;\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\tif (align === 'right') {\r\n\t\t\tthis._pixiData.instance.text.x =  -this.lineWidth;\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\r\n\t\r\n\tget textAlign() {\r\n\t\treturn this._originParams.textAlign;\r\n\t}\r\n\t\r\n\tset textAlign(align) {\r\n\t\tthis._pixiData.instance.text.style.align = align;\r\n\t\tthis._align(align);\r\n\t\t\r\n\t\treturn this._originParams.textAlign = align;\r\n\t}\r\n\t\r\n\tget lineHeight() {\r\n\t\treturn this._originParams.lineHeight;\r\n\t}\r\n\t\r\n\tset lineHeight(height) {\r\n\t\tthis._pixiData.instance.text.lineHeight = height;\r\n\t\t\r\n\t\treturn this._originParams.lineHeight = height;\r\n\t}\r\n\t\r\n\tget lineWidth() {\r\n\t\treturn this._originParams.lineWidth;\r\n\t}\r\n\t\r\n\tset lineWidth(width) {\r\n\t\tthis._pixiData.instance.text.lineWidthWrap = width;\r\n\t\t\r\n\t\treturn this._originParams.lineWidth = width;\r\n\t}\r\n}\r\n\r\ncreatejs.ButtonHelper = class Sprite extends makeClass(createjsOrigin.ButtonHelper, true) {\r\n\tconstructor() {\r\n\t\tthis._overrideCreatejs(PIXI.Container);\r\n\t\t\r\n\t\tconst createjs = arguments[0];\r\n\t\tconst pixi = createjs._pixiData.instance;\r\n\t\t\r\n\t\tconst baseFrame = arguments[1];\r\n\t\tconst overFrame = arguments[2];\r\n\t\tconst downFrame = arguments[3];\r\n\t\tconst hit = arguments[5];\r\n\t\tconst hitFrame = arguments[6];\r\n\t\t\r\n\t\thit.gotoAndStop(hitFrame);\r\n\t\tconst hitPixi = pixi.addChild(hit._pixiData.instance);\r\n\t\thitPixi.alpha = 0.00001\r\n\t\t\r\n\t\tlet isOver = false;\r\n\t\tlet isDown = false;\r\n\t\t\r\n\t\thitPixi.on('pointerover', function() {\r\n\t\t\tisOver = true;\r\n\t\t\tif (isDown) {\r\n\t\t\t\tcreatejs.gotoAndStop(downFrame);\r\n\t\t\t} else {\r\n\t\t\t\tcreatejs.gotoAndStop(overFrame);\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\thitPixi.on('pointerout', function() {\r\n\t\t\tisOver = false;\r\n\t\t\t\r\n\t\t\tif (isDown) {\r\n\t\t\t\tcreatejs.gotoAndStop(overFrame);\r\n\t\t\t} else {\r\n\t\t\t\tcreatejs.gotoAndStop(baseFrame);\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\thitPixi.on('pointerdown', function() {\r\n\t\t\tisDown = true;\r\n\t\t\tcreatejs.gotoAndStop(downFrame);\r\n\t\t});\r\n\t\t\r\n\t\thitPixi.on('pointerup', function() {\r\n\t\t\tisDown = false;\r\n\t\t\tif (isOver) {\r\n\t\t\t\tcreatejs.gotoAndStop(overFrame);\r\n\t\t\t} else {\r\n\t\t\t\tcreatejs.gotoAndStop(baseFrame);\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\thitPixi.on('pointerupoutside', function() {\r\n\t\t\tisDown = false;\r\n\t\t\tif (isOver) {\r\n\t\t\t\tcreatejs.gotoAndStop(overFrame);\r\n\t\t\t} else {\r\n\t\t\t\tcreatejs.gotoAndStop(baseFrame);\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\thitPixi.interactive = true;\r\n\t\thitPixi.cursor = 'pointer';\r\n\t\t\r\n\t\tsuper(...arguments);\r\n\t}\r\n}","/**\r\n * @ignore\r\n */\r\ndeclare const window: any;\r\n\r\nfunction playSound(id: string, loop: boolean = false) {\r\n\treturn window.createjs.Sound.play(id, {\r\n\t\tinterrupt: window.createjs.Sound.INTERRUPT_EARLY,\r\n\t\tloop: loop\r\n\t});\r\n}\r\n\r\nObject.defineProperties(window, {\r\n\tplaySound: {\r\n\t\tvalue: playSound\r\n\t}\r\n});\r\n\r\nexport {};","import { initAsync as _initAsync, initStage } from '../common/core';\r\nimport * as _PIXI from 'pixi.js';\r\n\r\n/**\r\n * @ignore\r\n */\r\ndeclare const window: any;\r\n\r\nnamespace PIXI {\r\n\texport namespace createjs {\r\n\t\t/**\r\n\t\t * @property useSynchedTimeline Whether the movie clip plays when placed as a \"graphic\".\r\n\t\t */\r\n\t\texport type TCreatejsPlayerOption = {\r\n\t\t\tuseSynchedTimeline?: boolean\r\n\t\t};\r\n\t\t\r\n\t\t/**\r\n\t\t * @see https://tawaship.github.io/Pixim.js/classes/pixim.application.html\r\n\t\t */\r\n\t\texport class Player {\r\n\t\t\tprivate _app: _PIXI.Application;\r\n\t\t\tprivate _id: string;\r\n\t\t\tprivate _rootClass: any;\r\n\t\t\tprivate _basepath: string;\r\n\t\t\tprivate _stage: any;\r\n\t\t\t\r\n\t\t\tconstructor(id: string, rootName: string, basepath: string, pixiOptions: Object = {}) {\r\n\t\t\t\tconst comp = window.AdobeAn.getComposition(id);\r\n\t\t\t\tif (!comp) {\r\n\t\t\t\t\tthrow new Error('no composition');\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tconst lib = comp.getLibrary();\r\n\t\t\t\tconst root = lib[rootName];\r\n\t\t\t\tif (!root) {\r\n\t\t\t\t\tthrow new Error('no root class');\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tconst prop = lib.properties;\r\n\t\t\t\t\r\n\t\t\t\tthis._app = new _PIXI.Application(Object.assign(pixiOptions, {\r\n\t\t\t\t\twidth: prop.width,\r\n\t\t\t\t\theight: prop.height,\r\n\t\t\t\t\tbackgroundColor: parseInt(prop.color.slice(1), 16)\r\n\t\t\t\t}));\r\n\t\t\t\t\r\n\t\t\t\tdocument.body.appendChild(this._app.view);\r\n\t\t\t\tthis._app.stop();\r\n\t\t\t\t\r\n\t\t\t\tthis._id = id;\r\n\t\t\t\tthis._rootClass = root;\r\n\t\t\t\tthis._basepath = basepath;\r\n\t\t\t\t\r\n\t\t\t\twindow.createjs.Ticker.framerate = prop.fps;\r\n\t\t\t\t\r\n\t\t\t\tthis._handleTick = this._handleTick.bind(this);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tinitAsync(options: TCreatejsPlayerOption = {}) {\r\n\t\t\t\treturn _initAsync(this._id, this._basepath)\r\n\t\t\t\t\t.then(lib => {\r\n\t\t\t\t\t\tconst exportRoot = new this._rootClass();\r\n\t\t\t\t\t\t\n\t\t\t\t\t\tthis._stage = new lib.Stage();\r\n\t\t\t\t\t\tinitStage(this._stage, options);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tObject.defineProperties(window, {\r\n\t\t\t\t\t\t\texportRoot: {\r\n\t\t\t\t\t\t\t\tvalue: exportRoot\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tstage: {\r\n\t\t\t\t\t\t\t\tvalue: this._stage\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\twindow.AdobeAn.compositionLoaded(lib.properties.id);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tthis._app.render();\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tthis._stage.addChild(exportRoot);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tthis._app.stage.addChild(exportRoot.getPixi());\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tplay() {\r\n\t\t\t\twindow.createjs.Ticker.addEventListener('tick', this._handleTick);\r\n\t\t\t\t\r\n\t\t\t\treturn this;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tstop() {\r\n\t\t\t\twindow.createjs.Ticker.removeEventListener('tick', this._handleTick);\r\n\t\t\t\t\r\n\t\t\t\treturn this;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tprivate _handleTick() {\r\n\t\t\t\tthis._stage._tickFunction();\r\n\t\t\t\tthis.app.render();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tget app(): _PIXI.Application {\r\n\t\t\t\treturn this._app;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\n/**\r\n * @ignore\r\n */\r\nexport import TCreatejsPlayerOption = PIXI.createjs.TCreatejsPlayerOption;\r\n\r\n/**\r\n * @ignore\r\n */\r\nexport import Player = PIXI.createjs.Player;"],"names":["initAsync","id","basepath","const","comp","window","AdobeAn","getComposition","Error","lib","getLibrary","Promise","resolve","reject","properties","manifest","length","loader","createjs","LoadQueue","installPlugin","Sound","addEventListener","evt","images","getImages","item","type","result","handleFileLoad","replace","m","i","src","loadManifest","then","ss","getSpriteSheet","queue","target","ssMetadata","name","SpriteSheet","getResult","frames","initStage","stage","options","useSynchedTimeline","containerDrawFunction","list","this","children","slice","l","child","isVisible","draw","Object","defineProperties","MovieClip","prototype","value","_updateState","_containerDraw","imageDescriptors","Sprite","Graphics","Shape","Text","Bitmap","update","props","tickOnUpdate","tick","dispatchEvent","autoClear","clear","_webGLContext","_batchDraw","_autoPurge","_drawID","purgeTextures","_updateFunction","_handleTick","_tickFunction","e","playSound","loop","play","interrupt","INTERRUPT_EARLY","createjsOrigin","DisplayObject","Container","ButtonHelper","let","_isDown","EventMap","mousedown","types","factory","self","cb","currentTarget","_createjs","ev","data","rawX","global","x","rawY","y","rollover","rollout","pressmove","pressup","DEG_TO_RAD","Math","PI","appendixDescriptor","get","_originParams","set","_pixiData","instance","scaleX","scale","scaleY","skewX","skew","skewY","regX","regObj","regY","rotation","visible","alpha","_off","renderable","Function","func","t","events","push","origin","on","interactive","apply","arguments","removeEventListener","j","off","splice","res","listeners","_listeners","removeAllEventListeners","removeAllListeners","_pixi","mask","masked","once","parent","addChild","filters","subInstance","f","ColorMatrixFilter","PIXI.filters","matrix","redMultiplier","redOffset","greenMultiplier","greenOffset","blueMultiplier","blueOffset","alphaMultiplier","alphaOffset","o","c","n","PIXI.Container","nc","_filterContainer","updateTransform","calculateBounds","b","getLocalBounds","cacheAsBitmap","removeChildren","v","getPixi","makeClass","unuseAppendix","CjsWrap","_overrideCreatejs","pixiClass","pixi","regx","regy","anchor","pivot","super","initialize","addChildAt","index","removeChild","removeChildAt","removeAllChldren","PIXI.Sprite","gotoAndStop","frame","spriteSheet","getFrame","currentFrame","baseTexture","PIXI.BaseTexture","from","image","texture","PIXI.Texture","rect","prototypeAccessors","graphics","_graphics","PIXI.Graphics","beginFill","strokeFill","strokeAlpha","moveTo","clone","endFill","containsPoint","beginHole","endHole","lineTo","arcTon","x1","y1","x2","y2","radius","arcTo","arc","startAngle","endAngle","anticlockwise","quadraticCurveTo","cpx","cpy","bezierCurveTo","cp1x","cp1y","cp2x","cp2y","w","h","drawRect","closePath","currentPath","points","_parseColor","color","charAt","parseInt","split","Number","setStrokeStyle","thickness","caps","joints","miterLimit","ignoreScale","lineStyle","width","cap","LineCap","join","LineJoin","beginStroke","drawRoundRect","drawRoundedRect","drawCircle","drawEllipse","drawPolyStar","sides","pointSize","angle","drawRegularPolygon","PIXI","0","PIXI.LINE_JOIN","BUTT","1","ROUND","2","SQUARE","MITER","BEVEL","curveTo","mt","lt","at","bt","qt","a","r","cp","ef","s","dr","rr","dc","de","dp","text","font","assign","textAlign","lineHeight","lineWidth","_font","_parseFont","PIXI.Text","fontSize","fontFamily","fill","wordWrap","prototypeAccessors$1","_align","p","shift","style","align","height","lineWidthWrap","baseFrame","overFrame","downFrame","hit","hitFrame","hitPixi","isOver","isDown","cursor","Player","rootName","pixiOptions","root","prop","_app","_PIXI.Application","backgroundColor","document","body","appendChild","view","stop","_id","_rootClass","_basepath","Ticker","framerate","fps","bind","_initAsync","exportRoot","_stage","Stage","compositionLoaded","render","app"],"mappings":"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"}